# Palantir Foundry æ·±åº¦æŠ€æœ¯åˆ†æè¡¥å……æ–‡æ¡£

## ğŸ“Œ ç›®å½•
1. [ç³»ç»Ÿæ¶æ„æ·±åº¦åˆ†æ](#ä¸€ç³»ç»Ÿæ¶æ„æ·±åº¦åˆ†æ)
2. [å·¥å…·é—´åä½œæœºåˆ¶](#äºŒå·¥å…·é—´åä½œæœºåˆ¶)
3. [æ•°æ®æµä¸å†³ç­–æµ](#ä¸‰æ•°æ®æµä¸å†³ç­–æµ)
4. [æ€§èƒ½ä¸å¯æ‰©å±•æ€§](#å››æ€§èƒ½ä¸å¯æ‰©å±•æ€§)
5. [åº”ç”¨æœ€ä½³å®è·µ](#äº”åº”ç”¨æœ€ä½³å®è·µ)
6. [å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ](#å…­å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ)
7. [ROIè®¡ç®—ä¸æˆæœ¬åˆ†æ](#ä¸ƒroiè®¡ç®—ä¸æˆæœ¬åˆ†æ)

---

## ä¸€ã€ç³»ç»Ÿæ¶æ„æ·±åº¦åˆ†æ

### 1.1 æœ¬ä½“ï¼ˆOntologyï¼‰çš„æ•°æ®æ¨¡å‹

#### **å…³é”®æ¦‚å¿µ**

Palantirçš„æœ¬ä½“é‡‡ç”¨**å›¾æ•°æ®æ¨¡å‹**ï¼Œè€Œéä¼ ç»Ÿçš„å…³ç³»å‹æ¨¡å‹ã€‚è¿™ä¸€è®¾è®¡ç†å¿µçš„æ ¸å¿ƒæ˜¯**ä¸šåŠ¡å®ä½“çš„æ•°å­—å­ªç”Ÿ**ï¼Œå°†ç°å®ä¸–ç•Œçš„å¯¹è±¡ã€å…³ç³»å’Œæ“ä½œç›´æ¥æ˜ å°„åˆ°æ•°å­—ç³»ç»Ÿï¼š

```
å…³ç³»æ¨¡å‹ï¼ˆRDBMSï¼‰ï¼šè¡¨ â†’ è¡Œ â†’ åˆ—ï¼ˆäºŒç»´ç»“æ„ï¼Œæ‰©å±•æ€§æœ‰é™ï¼‰
æœ¬ä½“æ¨¡å‹ï¼ˆFoundryï¼‰ï¼šèŠ‚ç‚¹ï¼ˆå¯¹è±¡ï¼‰ â†’ è¾¹ï¼ˆé“¾æ¥ï¼‰ â†’ å±æ€§ï¼ˆPropertiesï¼‰
                    â†“
                  æ”¯æŒå¤šç»´å…³ç³»ã€å¤©ç„¶æ”¯æŒå›¾éå†ã€æƒé™éš”ç¦»å¤©ç”Ÿ
```

**Foundryæœ¬ä½“ä¸ä¼ ç»Ÿæ•°æ®åº“çš„æ ¹æœ¬åŒºåˆ«**ï¼š
1. **ä¸šåŠ¡ä¼˜å…ˆ**ï¼šä»ä¸šåŠ¡æ¦‚å¿µå‡ºå‘ï¼ˆå¦‚Orderã€Customerï¼‰è€Œéæ•°æ®è¡¨
2. **å…³ç³»ç¬¬ä¸€**ï¼šé“¾æ¥æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œæ”¯æŒå¤æ‚çš„å¤šå¯¹å¤šå…³ç³»
3. **æƒé™ç¼–ç»‡**ï¼šæƒé™æ¨¡å‹ä¸æ•°æ®ç»“æ„å®Œå…¨é›†æˆï¼Œæ— éœ€åæœŸåŠ è£…
4. **è¡Œä¸ºåµŒå…¥**ï¼šå¯¹è±¡ç±»å‹æºå¸¦è‡ªå·±çš„æ“ä½œï¼ˆActionTypesï¼‰ï¼Œè€Œéåœ¨å¤–éƒ¨å®šä¹‰

#### **å¯¹è±¡ä¸å±æ€§çš„è®¾è®¡åŸåˆ™**

```
Orderå¯¹è±¡
â”œâ”€ åŸºç¡€å±æ€§ï¼ˆBasePropertiesï¼‰
â”‚  â”œâ”€ orderId: Stringï¼ˆä¸»é”®ï¼‰
â”‚  â”œâ”€ orderAmount: Double
â”‚  â”œâ”€ orderStatus: String (enum: Pending/Processing/Shipped/Delivered)
â”‚  â””â”€ createdAt: Timestamp
â”‚
â”œâ”€ æ´¾ç”Ÿå±æ€§ï¼ˆDerivedProperties - åªè¯»ï¼ŒåŸºäºå…¶ä»–å±æ€§è®¡ç®—ï¼‰
â”‚  â”œâ”€ daysToDeliver: Integer (= deliveredAt - orderedAt)
â”‚  â”œâ”€ isUrgent: Boolean (= orderAmount > $10,000)
â”‚  â””â”€ statusCategory: String (= if status in [Shipped, Delivered] then "Completed")
â”‚
â”œâ”€ é“¾æ¥ï¼ˆLinksï¼‰
â”‚  â”œâ”€ relatedTo: Customer
â”‚  â”œâ”€ contains: Product[]
â”‚  â””â”€ shipmentUsing: Warehouse
â”‚
â””â”€ æ“ä½œï¼ˆActionTypesï¼‰
   â”œâ”€ Assign (params: assignedTo: User)
   â”œâ”€ Escalate (params: escalationLevel: Integer)
   â””â”€ Cancel (params: reason: String)
```

#### **å¯¹è±¡è®¾è®¡çš„è§„èŒƒï¼ˆå®æ–½æ£€æŸ¥æ¸…å•ï¼‰**

| è§„èŒƒ | å®æ–½æ–¹å¼ | æ£€æŸ¥æ–¹æ³• | ç¤ºä¾‹ |
|------|--------|--------|------|
| **ä¸»é”®å”¯ä¸€æ€§** | åœ¨Ontologyä¸­æ˜ç¡®æ ‡è®°PKå­—æ®µï¼ŒFoundryè‡ªåŠ¨å®æ–½å”¯ä¸€çº¦æŸ | å°è¯•æ’å…¥é‡å¤å€¼â†’åº”æŠ¥é”™ | orderIdä½œä¸ºPKï¼Œæ•°æ®åº“å±‚é¢UNIQUE |
| **å±æ€§æ­£è§„åŒ–** | é¿å…å†—ä½™å­˜å‚¨æ´¾ç”Ÿå­—æ®µï¼Œä½¿ç”¨computed properties | æ£€æŸ¥å±æ€§å®šä¹‰æ˜¯å¦æœ‰é‡å¤è®¡ç®—é€»è¾‘ | totalOrdersç”¨æ´¾ç”Ÿå±æ€§ï¼ˆcountï¼‰ä¸å­˜å‚¨ |
| **é“¾æ¥å¯¹ç§°æ€§** | ä¸ºæ¯ä¸ªAâ†’Bé“¾æ¥å®šä¹‰åå‘Bâ†’A | åœ¨UIä¸­éªŒè¯åŒå‘å¯è§æ€§ | Orderâ†’Customerå’ŒCustomer.ordersâ†Order |
| **æƒé™éš”ç¦»** | åœ¨å±æ€§çº§åˆ«å®šä¹‰æƒé™æ¡ä»¶ï¼ˆ@readable/@writableï¼‰ | ä»¥ä¸åŒç”¨æˆ·ç™»å½•éªŒè¯å¯è§æ€§ | salaryä»…HR+Employeeæœ¬äººå¯è§ |
| **ç‰ˆæœ¬æ§åˆ¶** | ä½¿ç”¨historyå±æ€§è®°å½•æ‰€æœ‰çŠ¶æ€å˜åŒ– | æŸ¥è¯¢statusHistoryéªŒè¯å®Œæ•´è®°å½• | statusHistory: [{status, ts, changedBy}] |
| **ç±»å‹å®‰å…¨** | ä½¿ç”¨å¼ºç±»å‹å®šä¹‰è€ŒéString | è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ | status: Enum{...}è€ŒéString |

### 1.2 æœ¬ä½“ä¸æ•°æ®é›†çš„æ˜ å°„å…³ç³»

#### **æ˜ å°„çš„åŸºæœ¬åŸç†**

```
æ•°æ®é›†ï¼ˆDatasetï¼‰â† å¤šå¯¹ä¸€ â†’ å¯¹è±¡ç±»å‹ï¼ˆObjectTypeï¼‰

åŸå§‹æ•°æ®é›†ï¼šOrders_v2_2024              â”‚     Customers_v1_2024
â”œâ”€ åˆ—ï¼šorder_id, customer_id,        â”‚     â”œâ”€ åˆ—ï¼šcustomer_id, name
â”‚       amount, status, created_date  â”‚     â”‚     email, territory
â””â”€ è¡Œï¼š1000000+                       â”‚     â””â”€ è¡Œï¼š100k+
                                       â”‚
                                       â†“ï¼ˆå¤šæºæ˜ å°„ï¼‰

æœ¬ä½“ï¼šOrderå¯¹è±¡                        æœ¬ä½“ï¼šCustomerå¯¹è±¡
â”œâ”€ ä¸»é”®ï¼šorderId                      â”œâ”€ ä¸»é”®ï¼šcustomerId
â”œâ”€ å±æ€§ï¼šcustomerId, amount           â”œâ”€ å±æ€§ï¼šname, email, territory
â”œâ”€ æ´¾ç”Ÿå±æ€§ï¼šisUrgent, daysToDeliver  â”œâ”€ æ´¾ç”Ÿå±æ€§ï¼šlifetime_value
â””â”€ é“¾æ¥ï¼šrelatedTo â†’ Customer        â””â”€ åå‘é“¾æ¥ï¼šorders â† Order[]
```

#### **æ˜ å°„çš„ä¸‰ç§æ¨¡å¼**

**æ¨¡å¼1ï¼šä¸€å¯¹ä¸€æ˜ å°„ï¼ˆæ ‡å‡†æƒ…å†µï¼‰**
```
Orders_v2_2024 çš„æ¯ä¸€è¡Œ â† 1:1 â†’ Orderå¯¹è±¡çš„æ¯ä¸ªå®ä¾‹
é…ç½®ç¤ºä¾‹ï¼š
- Dataset: Orders_v2_2024
- PK Mapping: order_id â†’ orderId
- Column Mapping:
  - order_id â†’ orderId
  - customer_id â†’ customerId
  - total_amount â†’ orderAmount
  - order_status â†’ orderStatusï¼ˆéœ€è¦CASEè½¬æ¢ï¼‰
  - created_date â†’ createdAt
```

**æ¨¡å¼2ï¼šå¤šå¯¹ä¸€æ˜ å°„ï¼ˆå»é‡/èšåˆï¼‰**
```
æ¥è‡ªå¤šä¸ªæºçš„æ•°æ® â†’ 1ä¸ªå¯¹è±¡ç±»å‹

ç¤ºä¾‹ï¼šè®¢å•æ±‡æ€»
OrderDetails_Source1 (è®¢å•è¯¦æƒ…ï¼‰
+ OrderDetails_Source2 (è®¢å•æ›´æ–°ï¼‰
+ OrderDetails_Source3 (è®¢å•è¯„è®ºï¼‰
    â†“
    â†’ Orderå¯¹è±¡ï¼ˆåªæœ‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡Unionå»é‡ï¼‰

é…ç½®æ–¹å¼ï¼š
- Source 1: Orders_v2_2024
- Source 2: Orders_Historical_Archiveï¼ˆé€šè¿‡UNIONåˆå¹¶ï¼‰
- Deduplication: GROUP BY orderId, take MAX(lastUpdatedAt)
```

**æ¨¡å¼3ï¼šä¸€å¯¹å¤šæ˜ å°„ï¼ˆå¯¹è±¡åˆ†è§£ï¼‰**
```
OrderDetail_Rawè¡¨ï¼ˆéèŒƒå¼åŒ–ï¼‰â†’ å¤šä¸ªå¯¹è±¡ç±»å‹
â”œâ”€ Orderå¯¹è±¡ï¼ˆç²’åº¦ï¼šè®¢å•çº§åˆ«ï¼‰
â””â”€ OrderLineItemå¯¹è±¡ï¼ˆç²’åº¦ï¼šè¡Œé¡¹ç›®çº§åˆ«ï¼‰

åŸå§‹è¡¨ç»“æ„ï¼š
order_id | line_no | product_id | quantity | unit_price
  001    |   1     |  P001      |   5      |  $100
  001    |   2     |  P002      |   3      |  $200

æ˜ å°„ç»“æœï¼š
Orderå¯¹è±¡ï¼š1ä¸ªå®ä¾‹ï¼ˆorderId=001ï¼‰
OrderLineItemå¯¹è±¡ï¼š2ä¸ªå®ä¾‹
  - orderId=001, line_no=1, ...
  - orderId=001, line_no=2, ...

é…ç½®ï¼š
ä¸»å¯¹è±¡ï¼ˆOrderï¼‰ï¼š
  - PKï¼šorderId
  - æ¥æºï¼šSELECT DISTINCT order_id, ... FROM OrderDetail_Raw

å­å¯¹è±¡ï¼ˆOrderLineItemï¼‰ï¼š
  - PKï¼š(orderId, line_no)
  - æ¥æºï¼šSELECT * FROM OrderDetail_Raw
  - é“¾æ¥ï¼šbelongsTo â†’ Order
```

#### **æ˜ å°„çš„å½±å“ä¸æƒè¡¡**

- **ä¸€å¯¹å¤šå…³ç³»**ï¼šä¸€ä¸ªæ•°æ®é›†å¯æ˜ å°„ä¸ºå¤šä¸ªå¯¹è±¡ï¼ˆéœ€å¤šä¸ªä¸»é”®é…ç½®ï¼‰
  - ä¼˜ç‚¹ï¼šç²¾ç»†åŒ–å»ºæ¨¡ï¼Œæƒé™ç²’åº¦æ›´ç»†
  - ç¼ºç‚¹ï¼šéœ€è¦æ˜¾å¼å®šä¹‰é“¾æ¥ï¼ŒæŸ¥è¯¢æ—¶å¯èƒ½éœ€è¦å¤šæ¬¡JOIN

- **å¤šæºæœ¬ä½“**ï¼šå¤šä¸ªæ•°æ®é›†å¯è´¡çŒ®å±æ€§åˆ°åŒä¸€å¯¹è±¡
  - ä¼˜ç‚¹ï¼šå®ç°ä¸»æ•°æ®ç®¡ç†ï¼ˆMDMï¼‰ï¼Œç»Ÿä¸€æ•°æ®æº
  - ç¼ºç‚¹ï¼šéœ€è¦å¤„ç†å†²çªè§£å†³å’Œä¼˜å…ˆçº§ï¼ˆsource precedenceï¼‰

- **å±æ€§ç»§æ‰¿**ï¼šå¯¹è±¡å¯ä»æ¥å£ç»§æ‰¿å±æ€§å®šä¹‰
  - ç¤ºä¾‹ï¼šOrderå®ç°Auditableæ¥å£ï¼Œè‡ªåŠ¨è·å¾—createdAt/createdBy/lastModifiedAtç­‰å±æ€§
  - å¥½å¤„ï¼šä»£ç å¤ç”¨ï¼Œé™ä½ç»´æŠ¤æˆæœ¬

### 1.3 æœ¬ä½“çš„æ€§èƒ½è€ƒé‡

#### **ç´¢å¼•ç­–ç•¥**

```
æœ€å¸¸ç”¨æŸ¥è¯¢ï¼š
SELECT * FROM Order WHERE customerId = 'C123' AND status = 'Pending'

æœ¬ä½“ç´¢å¼•é…ç½®ï¼š
â”œâ”€ ä¸»ç´¢å¼•ï¼šorderId
â”œâ”€ äºŒçº§ç´¢å¼•ï¼šcustomerIdï¼ˆç”¨äºå¿«é€Ÿè¿‡æ»¤ï¼‰
â””â”€ å¤åˆç´¢å¼•ï¼š(customerId, status)
```

#### **æŸ¥è¯¢ä¼˜åŒ–**

Palantiré‡‡ç”¨**è‡ªé€‚åº”ç´¢å¼•**ï¼š
- è‡ªåŠ¨åˆ†ææŸ¥è¯¢æ¨¡å¼
- æ ¹æ®çƒ­æ•°æ®åˆ›å»ºäºŒçº§ç´¢å¼•
- å®šæœŸé‡æ–°ä¼˜åŒ–ç´¢å¼•å¸ƒå±€

---

## äºŒã€å·¥å…·é—´åä½œæœºåˆ¶

### 2.1 å®Œæ•´çš„æ•°æ®æµç®¡é“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®ç”Ÿå‘½å‘¨æœŸ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   åŸå§‹æ•°æ®   â”‚
        â”‚ (Snowflake,  â”‚
        â”‚   S3, ERP)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Data Connection + Pipeline     â”‚
        â”‚ - è½¬æ¢ã€æ¸…æ´—ã€å»é‡ã€éªŒè¯         â”‚
        â”‚ - æ”¯æŒå¢é‡ã€æµå¼ã€æ‰¹å¤„ç†         â”‚
        â”‚ - Gitç‰ˆæœ¬ç®¡ç†                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“ å‘å¸ƒä¸º"å¹²å‡€æ•°æ®é›†"
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Ontology Manager               â”‚
        â”‚ - æ˜ å°„ä¸ºå¯¹è±¡ç±»å‹                 â”‚
        â”‚ - å®šä¹‰å±æ€§ã€ä¸»é”®ã€æƒé™           â”‚
        â”‚ - é…ç½®Actionå’Œæ ¼å¼åŒ–è§„åˆ™         â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“ å‘å¸ƒæœ¬ä½“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              åº”ç”¨å±‚ï¼ˆå¤šå·¥å…·å¹¶è¡Œï¼‰             â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ Workshop  â”‚ Quiver â”‚ Contour â”‚ Object       â”‚
        â”‚ (UIåº”ç”¨)  â”‚ (æ—¶åº) â”‚ (åŸæ•°æ®)â”‚ Explorer    â”‚
        â”‚           â”‚        â”‚         â”‚             â”‚
        â”‚ - å®æ—¶UI  â”‚- åˆ†æ  â”‚- ä»ªè¡¨æ¿ â”‚- æ¢ç´¢       â”‚
        â”‚ - Action  â”‚- å‡½æ•°  â”‚- SQL    â”‚- é’»å–       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚         â”‚         â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
               â†“         â†“         â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Notepad / æŠ¥å‘Š / å¯¼å‡º           â”‚
        â”‚  - åµŒå…¥ç»„ä»¶ã€ç”ŸæˆæŠ¥å‘Š             â”‚
        â”‚  - åä½œè¯„è®ºã€AIPä¼˜åŒ–             â”‚
        â”‚  - è‡ªåŠ¨åˆ†å‘ (é‚®ä»¶/é€šçŸ¥)          â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“ (å¦‚æœ‰Actionè§¦å‘)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   å†³ç­–å›å†™ï¼ˆWritebackï¼‰          â”‚
        â”‚ - æ›´æ–°æœ¬ä½“å¯¹è±¡å±æ€§                â”‚
        â”‚ - Webhookè§¦å‘å¤–éƒ¨ç³»ç»Ÿ             â”‚
        â”‚ - è‡ªåŠ¨è§¦å‘ä¸‹æ¸¸Pipeline          â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   å®¡è®¡ä¸æ²»ç†                      â”‚
        â”‚ - Data Lineageè¿½è¸ª              â”‚
        â”‚ - ä¸å¯å˜å®¡è®¡æ—¥å¿—                  â”‚
        â”‚ - åˆè§„æŠ¥å‘Šç”Ÿæˆ                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Pipeline Builderä¸Data Connectionæ·±åº¦åº”ç”¨æŒ‡å—

#### **å®æ–½åœºæ™¯1ï¼šå¤šæºè®¢å•æ•°æ®ç»Ÿä¸€**

**èƒŒæ™¯**ï¼šä¼ä¸šæœ‰3ä¸ªERPç³»ç»Ÿï¼Œéœ€è¦ç»Ÿä¸€è®¢å•æ•°æ®

```
æºç³»ç»Ÿæ•°æ®ï¼š
â”œâ”€ SAP (On-premise)
â”‚  â””â”€ è¡¨ï¼šORDERS_SAP (200ä¸‡+è¡Œ)
â”‚     â”œâ”€ order_id: VARCHAR(20)
â”‚     â”œâ”€ customer_id: VARCHAR(10)
â”‚     â”œâ”€ total_amount: DECIMAL(10,2)
â”‚     â”œâ”€ order_date: DATE
â”‚     â””â”€ status: VARCHAR(50) [PO/SO/Confirmed/Delivered]
â”‚
â”œâ”€ Salesforce (Cloud)
â”‚  â””â”€ API: https://company.salesforce.com/api/v1/orders
â”‚     â””â”€ response: {orderId, accountId, totalAmount, status, createdDate}
â”‚
â””â”€ Oracle EBS (On-premise)
   â””â”€ è¡¨ï¼šRA_ORDERS (50ä¸‡+è¡Œ)
      â”œâ”€ order_number: NUMBER(12)
      â”œâ”€ customer_id: NUMBER(10)
      â”œâ”€ order_amount: NUMBER(12,2)
      â”œâ”€ trx_date: DATE
      â””â”€ status: VARCHAR(30) [Draft/Booked/Shipped]
```

**Data Connectioné…ç½®**

```yaml
# SAPè¿æ¥
apiVersion: v1
kind: DataConnection
metadata:
  name: sap-connector
spec:
  source:
    type: JDBC
    driver: SAP HANA JDBC
    host: sap-prod.company.internal
    database: ORDERS_DB
    tables:
      - ORDERS_SAP
  authentication:
    type: ServiceAccount
    credentialStore: /vault/sap_creds
  networkPolicy:
    mode: Agent  # ä½¿ç”¨Agentå®‰å…¨è¿æ¥
    agentCluster: production-agents
  healthCheck:
    enabled: true
    schedule: "0 */4 * * *"  # æ¯4å°æ—¶æ£€æŸ¥ä¸€æ¬¡
    notifications:
      - channel: slack
        severity: ERROR

---
# Salesforceè¿æ¥
apiVersion: v1
kind: DataConnection
metadata:
  name: salesforce-connector
spec:
  source:
    type: API_REST
    baseUrl: https://company.salesforce.com/api/v1
    endpoints:
      - path: /orders
        method: GET
        pagination:
          type: offset
          limit: 1000
          param: offset
  authentication:
    type: OAuth2
    clientId: ${SALESFORCE_CLIENT_ID}
    clientSecret: ${SALESFORCE_CLIENT_SECRET}
  rateLimit:
    requestsPerSecond: 100
    burst: 200
```

**Pipeline Builderé…ç½®**

```yaml
# ç»Ÿä¸€è®¢å•ç®¡ç†Pipeline
apiVersion: v1
kind: Pipeline
metadata:
  name: UnifiedOrdersPipeline
spec:
  inputs:
    # è¾“å…¥1ï¼šSAPè®¢å•
    - name: sap_orders
      source:
        connection: sap-connector
        query: |
          SELECT
            order_id,
            customer_id,
            total_amount,
            order_date,
            status,
            'SAP' as source_system,
            CURRENT_TIMESTAMP as ingested_at
          FROM ORDERS_SAP
          WHERE order_date >= DATE_SUB(CURRENT_DATE, INTERVAL 90 DAY)
      schedule: daily at 02:00 UTC

    # è¾“å…¥2ï¼šSalesforceè®¢å•
    - name: sf_orders
      source:
        connection: salesforce-connector
        query: |
          SELECT
            orderId as order_id,
            accountId as customer_id,
            totalAmount as total_amount,
            createdDate as order_date,
            status,
            'Salesforce' as source_system,
            CURRENT_TIMESTAMP as ingested_at
          FROM /orders?status=active&limit=10000
      schedule: hourly

    # è¾“å…¥3ï¼šOracleè®¢å•
    - name: oracle_orders
      source:
        connection: oracle-connector
        query: |
          SELECT
            TO_CHAR(order_number) as order_id,
            customer_id,
            order_amount as total_amount,
            trx_date as order_date,
            CASE
              WHEN status='Draft' THEN 'Pending'
              WHEN status='Booked' THEN 'Confirmed'
              WHEN status='Shipped' THEN 'Processing'
              ELSE status
            END as status,
            'Oracle' as source_system,
            SYSDATE as ingested_at
          FROM RA_ORDERS
      schedule: daily at 03:00 UTC

  transforms:
    # è½¬æ¢1ï¼šæ•°æ®ç±»å‹æ ‡å‡†åŒ–
    - name: standardize_types
      type: Cast
      config:
        orderId:
          from: string
          to: string
        customerId:
          from: mixed
          to: string
          transform: "LPAD(CAST(customer_id AS VARCHAR), 10, '0')"
        orderAmount:
          from: mixed
          to: decimal
          precision: 12
          scale: 2
        orderDate:
          from: mixed
          to: timestamp
          format: "YYYY-MM-DD"
        status:
          from: string
          to: enum
          values: [Pending, Processing, Shipped, Delivered, Cancelled]

    # è½¬æ¢2ï¼šå»é‡èšåˆï¼ˆåŒä¸€è®¢å•åœ¨å¤šä¸ªç³»ç»Ÿä¸­ï¼‰
    - name: dedup
      type: Aggregate
      config:
        groupBy: [orderId, customerId]
        aggregations:
          - field: total_amount
            function: MAX  # å–æœ€å¤§é‡‘é¢ï¼ˆå¦‚æœ‰å·®å¼‚ï¼‰
          - field: order_date
            function: MIN  # å–æœ€æ—©æ—¶é—´
          - field: status
            function: CASE
              WHEN source_system='SAP' THEN 1  # ä¼˜å…ˆçº§ï¼šSAPæœ€é«˜
              WHEN source_system='Oracle' THEN 2
              WHEN source_system='Salesforce' THEN 3
              END
          - field: source_system
            function: "STRING_AGG(DISTINCT value, ',')"  # è®°å½•æ¥æº

    # è½¬æ¢3ï¼šæ•°æ®éªŒè¯ä¸æ¸…æ´
    - name: validate_and_clean
      type: Filter
      config:
        rules:
          - condition: |
              total_amount > 0 AND
              total_amount < 10000000 AND
              order_date >= DATE('2020-01-01')
            action: KEEP
          - condition: |
              customerId IS NULL OR
              total_amount IS NULL
            action: |
              {
                "action": "ROUTE_TO_DLQ",
                "deadLetterQueue": "invalid-orders",
                "reason": "Missing required fields"
              }

    # è½¬æ¢4ï¼šæ•°æ®å¢å¼ºï¼ˆåŠ å…¥ç»´åº¦æ•°æ®ï¼‰
    - name: enrich_data
      type: Join
      config:
        leftInput: validated_orders
        rightInput: customer_master
        joinType: LEFT_OUTER
        onCondition: "leftInput.customerId = rightInput.customerId"
        selectColumns:
          - leftInput.*
          - rightInput.customer_name
          - rightInput.customer_segment
          - rightInput.customer_territory
          - rightInput.credit_limit

    # è½¬æ¢5ï¼šæ´¾ç”Ÿå­—æ®µè®¡ç®—
    - name: compute_derived
      type: ComputeColumn
      config:
        fields:
          - name: days_since_order
            formula: "DATEDIFF(day, order_date, CURRENT_DATE)"
          - name: is_high_value
            formula: "IF(total_amount > 50000, 'Yes', 'No')"
          - name: order_status_category
            formula: |
              CASE
                WHEN status IN ('Pending', 'Processing') THEN 'In Progress'
                WHEN status IN ('Shipped', 'Delivered') THEN 'Completed'
                WHEN status = 'Cancelled' THEN 'Cancelled'
              END

  outputs:
    # è¾“å‡º1ï¼šä¸»é¢˜æ•°æ®é›†ï¼ˆå‘å¸ƒç»™æœ¬ä½“ï¼‰
    - name: unified_orders
      destination:
        type: FoundryDataset
        dataset: unified_orders_v2
        mode: OVERWRITE  # æ¯æ¬¡å…¨é‡æ›¿æ¢
        partitionBy: [order_date]  # æŒ‰æ—¥æœŸåˆ†åŒºä»¥ä¼˜åŒ–æŸ¥è¯¢

    # è¾“å‡º2ï¼šå­˜æ¡£ï¼ˆå®Œæ•´å†å²ï¼‰
    - name: archived_orders
      destination:
        type: S3
        path: "s3://company-data-lake/orders/archive/"
        format: PARQUET
        compression: snappy
        mode: APPEND

    # è¾“å‡º3ï¼šé”™è¯¯æ—¥å¿—
    - name: order_errors
      destination:
        type: FoundryDataset
        dataset: orders_validation_errors
        mode: APPEND

  # ç›‘æ§å’Œå‘Šè­¦
  monitoring:
    metrics:
      - name: row_count
        alert:
          condition: "DECREASE > 20%"  # è¡Œæ•°ä¸‹é™è¶…è¿‡20%åˆ™å‘Šè­¦
          severity: HIGH
      - name: duplicates_removed
        alert:
          condition: "VALUE > 1000"  # ç§»é™¤çš„é‡å¤>1000æ¡åˆ™å‘Šè­¦
      - name: data_quality_score
        alert:
          condition: "VALUE < 95"  # è´¨é‡åˆ†æ•°<95åˆ™å‘Šè­¦

    # å¥åº·æ£€æŸ¥
    validation:
      - name: row_count_check
        query: |
          SELECT
            CASE
              WHEN COUNT(*) BETWEEN 1500000 AND 2500000 THEN 'PASS'
              ELSE 'FAIL'
            END as status
          FROM unified_orders
      - name: nullability_check
        query: |
          SELECT
            COUNT(CASE WHEN orderId IS NULL THEN 1 END) as null_orders,
            CASE
              WHEN COUNT(CASE WHEN orderId IS NULL THEN 1 END) = 0 THEN 'PASS'
              ELSE 'FAIL'
            END as status
          FROM unified_orders
```

**ç‰ˆæœ¬æ§åˆ¶ä¸å˜æ›´ç®¡ç†**

```bash
# Gitå·¥ä½œæµ
git checkout -b feature/add-oracle-orders
# ä¿®æ”¹Pipelineé…ç½®...
git add foundry/pipelines/UnifiedOrdersPipeline.yml
git commit -m "feat: Add Oracle EBS orders to unified pipeline

- Integrate RA_ORDERS table from Oracle EBS
- Add status mapping from Draft/Booked/Shipped to standard enums
- Implement deduplication for cross-system order matching
- Set daily schedule at 03:00 UTC

Fixes: JIRA-1234"

# åˆ›å»ºPRè¿›è¡Œå®¡æŸ¥
git push origin feature/add-oracle-orders
# PRé€šè¿‡åéƒ¨ç½²åˆ°devç¯å¢ƒæµ‹è¯•
# éªŒè¯åéƒ¨ç½²åˆ°prod
```

#### **å®æ–½åœºæ™¯2ï¼šå®æ—¶æµå¤„ç†ï¼ˆKafkaæ•°æ®ï¼‰**

```yaml
# å®æ—¶äº‹ä»¶å¤„ç†Pipeline
apiVersion: v1
kind: Pipeline
metadata:
  name: OrderEventsStreamPipeline
spec:
  inputs:
    - name: kafka_order_events
      source:
        type: Kafka
        brokers: ["kafka-prod-1:9092", "kafka-prod-2:9092"]
        topic: "order.events"
        consumerGroup: "foundry-orders"
        startOffset: LATEST
        schema:
          format: AvroRegistry
          registryUrl: "https://schema-registry:8081"

  transforms:
    # æµå¤„ç†ï¼šå®æ—¶è®¢å•çŠ¶æ€è·Ÿè¸ª
    - name: stream_enrich
      type: Stream
      config:
        windowSize: 5m
        aggregations:
          - function: COUNT
            field: event_id
            outputField: events_count

  outputs:
    - name: realtime_orders
      destination:
        type: FoundryDataset
        dataset: orders_realtime
        mode: UPSERT  # å¢é‡æ›´æ–°
        upsertKey: orderId
        updateColumns:
          - lastEventTime
          - status
```

### 2.3 å·¥å…·é€‰æ‹©å†³ç­–æ ‘

```
                    åˆ†æéœ€æ±‚
                       â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚            â”‚            â”‚
    æ•°æ®é›†åˆ†æ    å¯¹è±¡/æ—¶åºåˆ†æ   åº”ç”¨å¼€å‘
          â”‚            â”‚            â”‚
     æ˜¯å¦SQLå¤æ‚?   æ˜¯å¦æ—¶åºä¼˜åŒ–?   æ˜¯å¦å®æ—¶UI?
       /    \        /    \        /    \
      Y      N      Y      N      Y      N
      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
   Contour Contour Quiver Contour Workshop ä¸“ä¸šå¼€å‘
   SQLæ¿   ç‚¹é€‰    å¯è§†    ç‚¹é€‰    ä½ä»£ç   (Slate)
            å‡½æ•°          å‡½æ•°

åç»­å¤„ç†ï¼š
  â†’ æŠ¥å‘Šç”Ÿæˆï¼šNotepad
  â†’ è‡ªåŠ¨åˆ†å‘ï¼šAutomate + Webhook
  â†’ åä½œè®¨è®ºï¼šNotepadè¯„è®º
  â†’ æ•°æ®ç§‘å­¦ï¼šCode Workspaces
```

### 2.3 å˜é‡ä¸æ•°æ®æµé©±åŠ¨

```
Workshopä¸­çš„å˜é‡ç³»ç»Ÿï¼ˆå…³é”®ï¼ï¼‰

åˆ›å»ºå˜é‡
â”œâ”€ ObjectSetå˜é‡ï¼šä¿å­˜å¯¹è±¡é›†åˆ
â”œâ”€ Parameterå˜é‡ï¼šç”¨æˆ·è¾“å…¥å‚æ•°
â””â”€ Computedå˜é‡ï¼šåŸºäºå…¶ä»–å˜é‡è®¡ç®—

å˜é‡é“¾æ¥
â””â”€ å¯¹è±¡è¡¨.DataSource â† ObjectSetå˜é‡
   â†’ å½“å˜é‡æ›´æ–°æ—¶ï¼Œè¡¨è‡ªåŠ¨åˆ·æ–°

ç¤ºä¾‹ï¼šè®¢å•ç®¡ç†åº”ç”¨

å‚æ•°å˜é‡
â”œâ”€ selectedStore: Dropdown (User Input)
â””â”€ dateRange: DatePicker (User Input)

è®¡ç®—å˜é‡ï¼ˆComputedï¼‰
â”œâ”€ filteredOrders: ObjectSet
â”‚  â† Orders.filter(store=selectedStore AND date IN dateRange)
â”‚
â””â”€ orderSummary: Object
   â† filteredOrders.aggregate(sum, count, avg)

è§†å›¾æ§åˆ¶
â”œâ”€ OrderTable.DataSource â† filteredOrders
â”œâ”€ SummaryChart.Data â† orderSummary
â””â”€ ActionButtons â†’ ä»…å¯¹å½“å‰filteredOrdersä¸­çš„å¯¹è±¡æœ‰æ•ˆ
```

---

## ä¸‰ã€æ•°æ®æµä¸å†³ç­–æµ

### 3.1 ä»æ•°æ®åˆ°å†³ç­–çš„å®Œæ•´é“¾è·¯

```
â”Œâ”€ æ•°æ®å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸå§‹è®¢å•æ•°æ®ï¼ˆ1M+ è¡Œï¼‰        â”‚
â”‚ - è®¢å•å·ã€å®¢æˆ·ã€é‡‘é¢ã€çŠ¶æ€    â”‚
â”‚ - æ¥è‡ª5ä¸ªä¸åŒERPç³»ç»Ÿ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Pipeline Builder
           â†“ æ•°æ®æ¸…æ´—ä¸è½¬æ¢
â”Œâ”€ æ¸…æ´æ•°æ®å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»Ÿä¸€è®¢å•æ•°æ®é›†ï¼ˆ1M è¡Œï¼‰       â”‚
â”‚ - å»é‡ã€ç±»å‹è½¬æ¢ã€æ•°æ®éªŒè¯    â”‚
â”‚ - åˆ†æ”¯ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Ontology Manager
           â†“ ä¸šåŠ¡è¯­è¨€æ˜ å°„
â”Œâ”€ ä¸šåŠ¡æ¨¡å‹å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Orderå¯¹è±¡                     â”‚
â”‚ â”œâ”€ orderId (PK)              â”‚
â”‚ â”œâ”€ relatedTo Customer        â”‚
â”‚ â”œâ”€ contains Product[]        â”‚
â”‚ â”œâ”€ status: Enum              â”‚
â”‚ â””â”€ ActionType: Assign/Cancel â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Workshop/Quiver
           â†“ åˆ†æä¸å¯è§†åŒ–
â”Œâ”€ åº”ç”¨å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å•ç®¡ç†åº”ç”¨                  â”‚
â”‚ â”œâ”€ å¯¹è±¡è¡¨ï¼šå±•ç¤ºæ‰€æœ‰è®¢å•       â”‚
â”‚ â”œâ”€ è¿‡æ»¤å™¨ï¼šæŒ‰çŠ¶æ€/å®¢æˆ·è¿‡æ»¤    â”‚
â”‚ â”œâ”€ å›¾è¡¨ï¼šè®¢å•è¶‹åŠ¿ã€é‡‘é¢åˆ†å¸ƒ   â”‚
â”‚ â””â”€ KPIå¡ç‰‡ï¼šä»Šæ—¥è®¢å•æ•°        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ User Interaction
           â†“ å‘ç°é—®é¢˜/æ´å¯Ÿ
â”Œâ”€ å†³ç­–å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ“ä½œäººå‘˜å†³å®šï¼š                â”‚
â”‚ "è¿™10ä¸ªè®¢å•éœ€è¦å‡çº§å¤„ç†"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Click "Escalate" Button
           â†“ Action Execution
â”Œâ”€ æ‰§è¡Œå±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ“ä½œç±»å‹æ‰§è¡Œ                  â”‚
â”‚ - åˆ›å»ºEscalatedOrderå¯¹è±¡      â”‚
â”‚ - è§¦å‘é‚®ä»¶é€šçŸ¥                â”‚
â”‚ - Webhookè°ƒç”¨å¤–éƒ¨ç³»ç»Ÿ         â”‚
â”‚ - è‡ªåŠ¨è§¦å‘åç»­Pipeline       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Event Propagation
           â†“ åé¦ˆé—­ç¯
â”Œâ”€ åé¦ˆå±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç³»ç»Ÿæ›´æ–°                      â”‚
â”‚ - åŸè®¢å•çŠ¶æ€æ›´æ–°ä¸ºEscalated  â”‚
â”‚ - æ´¾ç”Ÿæ•°æ®é‡æ–°è®¡ç®—            â”‚
â”‚ - åç»­å·¥ä½œæµè§¦å‘              â”‚
â”‚ - å®¡è®¡æ—¥å¿—è®°å½•                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å†³ç­–æ•è·æœºåˆ¶

```
å†³ç­–æ•è·çš„ä¸‰ä¸ªå±‚çº§ï¼š

Level 1: ç›´æ¥æ•è·ï¼ˆDirect Captureï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Workshop Action Button              â”‚
â”‚ â”œâ”€ Click "Assign"                   â”‚
â”‚ â”œâ”€ ç³»ç»Ÿè‡ªåŠ¨æ•è·ï¼š                   â”‚
â”‚ â”‚  - è°æ‰§è¡Œçš„ï¼šCurrent User          â”‚
â”‚ â”‚  - ä½•æ—¶ï¼šCurrent Timestamp         â”‚
â”‚ â”‚  - å¯¹å“ªä¸ªå¯¹è±¡ï¼šCurrent Row ID      â”‚
â”‚ â”‚  - å‚æ•°ï¼šAssignedTo (ä»ä¸‹æ‹‰é€‰æ‹©)  â”‚
â”‚ â””â”€ è‡ªåŠ¨å†™å…¥æ•°æ®åº“                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Level 2: è§„åˆ™æ•è·ï¼ˆRule-based Captureï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Automateæˆ–AIP Agent                 â”‚
â”‚ â”œâ”€ ç›‘æ§æ¡ä»¶ï¼šIF status=Pending      â”‚
â”‚ â”‚            AND amount > $50,000    â”‚
â”‚ â”œâ”€ è§¦å‘æ“ä½œï¼šTHEN Escalate          â”‚
â”‚ â”‚            AND CreateTask          â”‚
â”‚ â”‚            AND SendAlert           â”‚
â”‚ â””â”€ è‡ªåŠ¨æ•è·å†³ç­–ä¸æ‰§è¡Œæ—¶é—´          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Level 3: AIæ•è·ï¼ˆAI-assisted Captureï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIP Agentæˆ–Logic                    â”‚
â”‚ â”œâ”€ è¯„ä¼°ï¼šåŸºäºMLæ¨¡å‹                â”‚
â”‚ â”‚  - è®¢å•é£é™©ç­‰çº§                   â”‚
â”‚ â”‚  - æ¨èå¤„ç†æ–¹æ¡ˆ                   â”‚
â”‚ â”œâ”€ ç”¨æˆ·ç¡®è®¤ï¼šY/N                    â”‚
â”‚ â””â”€ æ•è·å†³ç­–ï¼š                       â”‚
â”‚    - AIå»ºè®®                         â”‚
â”‚    - ç”¨æˆ·åé¦ˆ                       â”‚
â”‚    - ç»“æœ                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€æ€§èƒ½ä¸å¯æ‰©å±•æ€§

### 4.1 å¹¶å‘å¤„ç†èƒ½åŠ›

```
Workshopåº”ç”¨æ€§èƒ½æŒ‡æ ‡

åœºæ™¯ï¼š100å¹¶å‘ç”¨æˆ·åŒæ—¶æŸ¥çœ‹è®¢å•åº”ç”¨

å¤„ç†å±‚çº§ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯ï¼ˆReact/Webï¼‰            â”‚
â”‚ â”œâ”€ å¹¶å‘è¿æ¥ï¼š1000+           â”‚
â”‚ â””â”€ å®¢æˆ·ç«¯ç¼“å­˜                â”‚
â”œâ”€â†’ ç½‘å…³ï¼ˆAPI Gatewayï¼‰       â”‚
â”‚  â”œâ”€ è¿æ¥æ± ï¼š10,000           â”‚
â”‚  â””â”€ é€Ÿç‡é™åˆ¶ï¼š10k req/s      â”‚
â”œâ”€â†’ åº”ç”¨å±‚ï¼ˆWorkshop Engineï¼‰ â”‚
â”‚  â”œâ”€ å®ä¾‹æ•°ï¼šAuto-scaling    â”‚
â”‚  â”œâ”€ è¯·æ±‚é˜Ÿåˆ—ï¼š10k            â”‚
â”‚  â””â”€ å“åº”æ—¶é—´ï¼š<500ms         â”‚
â”œâ”€â†’ æŸ¥è¯¢å±‚ï¼ˆQuery Engineï¼‰    â”‚
â”‚  â”œâ”€ å¹¶å‘æŸ¥è¯¢ï¼š100             â”‚
â”‚  â”œâ”€ æŸ¥è¯¢ä¼˜åŒ–ï¼šè‡ªé€‚åº”ç´¢å¼•      â”‚
â”‚  â””â”€ ç¼“å­˜ï¼šRedis (1M entries) â”‚
â””â”€â†’ å­˜å‚¨å±‚ï¼ˆObject Storeï¼‰    â”‚
   â”œâ”€ åˆ†å¸ƒå¼å­˜å‚¨ï¼šå¤šå‰¯æœ¬       â”‚
   â”œâ”€ è¯»å–ååï¼š50k obj/s      â”‚
   â””â”€ å†™å…¥ååï¼š5k obj/s       â”‚

å…¸å‹æŸ¥è¯¢æ€§èƒ½ï¼š
- ç®€å•è¿‡æ»¤ï¼š100ms
- å¸¦èšåˆï¼š500ms
- å¤æ‚Joinï¼š2-5s
```

### 4.2 æ•°æ®è§„æ¨¡çš„æ‰©å±•æ€§

```
æ•°æ®é‡çº§åˆ«    | æ¨èæ–¹æ¡ˆ           | æ€§èƒ½å½±å“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
< 1Mè¡Œ       | å•æœ¬ä½“+Workshop   | æ— æ˜¾è‘—å½±å“
1M-100Mè¡Œ   | åˆ†ç‰‡æœ¬ä½“+ä¼˜åŒ–ç´¢å¼•  | éœ€è°ƒä¼˜
100M-1Bè¡Œ   | åˆ†å¸ƒå¼å­˜å‚¨+æŸ¥è¯¢ä¼˜åŒ–| æ˜¾è‘—å»¶è¿Ÿ
> 1Bè¡Œ      | å¤šæœåŠ¡æ¶æ„+ç¼“å­˜    | éœ€è¯¦ç»†è§„åˆ’

ç¤ºä¾‹ï¼šè®¢å•åˆ†æåº”ç”¨

å°è§„æ¨¡ï¼ˆ< 1Mè®¢å•ï¼‰
â””â”€ Orderå¯¹è±¡ï¼ˆå•åº“ï¼‰
   â””â”€ ç›´æ¥æŸ¥è¯¢ã€æ— ç¼“å­˜éœ€æ±‚

ä¸­è§„æ¨¡ï¼ˆ10Mè®¢å•ï¼‰
â””â”€ Orderå¯¹è±¡ï¼ˆæ—¶é—´åˆ†ç‰‡ï¼‰
   â”œâ”€ 2024å¹´è®¢å• - åº“A
   â”œâ”€ 2023å¹´è®¢å• - åº“B
   â””â”€ 2022å¹´åŠä»¥å‰ - å½’æ¡£
   â””â”€ è”åˆæŸ¥è¯¢æ—¶è‡ªåŠ¨èšåˆ

å¤§è§„æ¨¡ï¼ˆ100M+è®¢å•ï¼‰
â””â”€ Orderå¯¹è±¡ï¼ˆå¤šç»´åˆ†ç‰‡ï¼‰
   â”œâ”€ æŒ‰å®¢æˆ·åœ°åŒºåˆ†ç‰‡
   â”œâ”€ æŒ‰æ—¶é—´æ®µåˆ†ç‰‡
   â””â”€ å…³é”®æŸ¥è¯¢ä½¿ç”¨é¢„èšåˆç»“æœ
```

### 4.3 æˆæœ¬ä¼˜åŒ–ç­–ç•¥

```
æˆæœ¬è¦ç´     | ä¼˜åŒ–ç­–ç•¥                  | é¢„æœŸèŠ‚çœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è®¡ç®—æˆæœ¬    | ä½¿ç”¨å‚æ•°è¿‡æ»¤å‡å°‘å…¨è¡¨æ‰«æ  | 20-30%
            | é¢„èšåˆçƒ­æ•°æ®              | 15-25%
            | ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢              | 10-20%

å­˜å‚¨æˆæœ¬    | æ•°æ®åˆ†å±‚ï¼ˆçƒ­/æ¸©/å†·ï¼‰      | 30-40%
            | å‹ç¼©éæ´»è·ƒå¯¹è±¡            | 15-25%
            | å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®          | 10-20%

å¸¦å®½æˆæœ¬    | è¾¹ç¼˜ç¼“å­˜                  | 20-30%
            | å‹ç¼©ä¼ è¾“                  | 10-15%
            | CDNåŠ é€Ÿ                   | 15-25%

æ€»ä½“æˆæœ¬    | å®Œæ•´ä¼˜åŒ–                  | 30-50%
```

---

## äº”ã€åº”ç”¨æœ€ä½³å®è·µ

### 5.1 æœ¬ä½“è®¾è®¡æœ€ä½³å®è·µ

#### **å¯¹è±¡ç²’åº¦è®¾è®¡**

```
âœ“ æ­£ç¡®ï¼šç²’åº¦é€‚ä¸­
  Customerå¯¹è±¡
  â”œâ”€ å±æ€§ï¼šcustomerId, name, segment
  â””â”€ å…³ç³»ï¼šorders[]

âœ— è¿‡ç²—ç³™ï¼šä¿¡æ¯ä¸¢å¤±
  Customerå¯¹è±¡åªåŒ…å«ï¼šname

âœ— è¿‡ç»†ç²’åº¦ï¼šç¢ç‰‡åŒ–
  Customer1å¯¹è±¡ - åŸºæœ¬ä¿¡æ¯
  Customer2å¯¹è±¡ - è®¢å•
  Customer3å¯¹è±¡ - æ”¯ä»˜
```

#### **å±æ€§è®¾è®¡åŸåˆ™**

```
âœ“ å¥½çš„å±æ€§è®¾è®¡
- åŸå­æ€§ï¼šä¸å¯å†åˆ†
  âœ“ address: "123 Main St"
  âœ— address: "123 Main St, New York, 10001"

- å”¯ä¸€æ€§ï¼šé¿å…é‡å¤å­˜å‚¨
  âœ“ totalOrders: è®¡ç®—å­—æ®µï¼ˆåŸºäºrelatedOrders.count()ï¼‰
  âœ— totalOrders: å­˜å‚¨å­—æ®µï¼ˆæ˜“è¿‡æœŸï¼‰

- æƒé™éš”ç¦»ï¼šæ•æ„Ÿå±æ€§åˆ†ç¦»
  âœ“ salary (åªæœ‰HR+Employeeæœ¬äººå¯è§)
  âœ“ email (å†…éƒ¨ç”¨æˆ·å¯è§)

- ç‰ˆæœ¬åŒ–ï¼šå…³é”®å±æ€§éœ€å†å²
  âœ“ statusHistory: [{status, timestamp, changedBy}]
  âœ“ addressHistory: [{address, timestamp}]
```

### 5.2 åº”ç”¨å¼€å‘æœ€ä½³å®è·µ

#### **Workshopåº”ç”¨æ¶æ„æ¨¡å¼**

```
3å±‚åº”ç”¨æ¶æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¡¨ç°å±‚ï¼ˆPresentationï¼‰          â”‚
â”‚ â”œâ”€ ç»„ä»¶ï¼šButton, Card, Table    â”‚
â”‚ â”œâ”€ æ ·å¼ï¼šä¸»é¢˜ã€å¸ƒå±€              â”‚
â”‚ â””â”€ ç”¨æˆ·äº¤äº’ï¼šå“åº”å¼              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆLogicï¼‰             â”‚
â”‚ â”œâ”€ å˜é‡ç®¡ç†                     â”‚
â”‚ â”œâ”€ è¿‡æ»¤è§„åˆ™                     â”‚
â”‚ â”œâ”€ æ¡ä»¶æ˜¾ç¤º                     â”‚
â”‚ â””â”€ Actionå®šä¹‰                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®å±‚ï¼ˆDataï¼‰                  â”‚
â”‚ â”œâ”€ ObjectSetå®šä¹‰                â”‚
â”‚ â”œâ”€ å…³é”®æŒ‡æ ‡è®¡ç®—                 â”‚
â”‚ â””â”€ æƒé™æ£€æŸ¥                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¤ºä¾‹ï¼šè®¢å•ç®¡ç†åº”ç”¨

â”Œâ”€ è¡¨ç°å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€ é¡µå¤´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ æ ‡é¢˜ã€ç»Ÿè®¡å¡ç‰‡              â”‚   â”‚
â”‚ â”œâ”€ è¿‡æ»¤å™¨åŒº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ Storeé€‰æ‹©ã€DateèŒƒå›´         â”‚   â”‚
â”‚ â”œâ”€ æ•°æ®å±•ç¤ºåŒº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ è®¢å•è¡¨ã€å›¾è¡¨                â”‚   â”‚
â”‚ â””â”€ æ“ä½œåŒº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ å˜é‡é©±åŠ¨
â”Œâ”€ ä¸šåŠ¡é€»è¾‘å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filters:                          â”‚
â”‚ â”œâ”€ selectedStore (Param)          â”‚
â”‚ â”œâ”€ dateRange (Param)              â”‚
â”‚ â””â”€ filteredOrders (Computed)      â”‚
â”‚                                   â”‚
â”‚ OrderSummary:                     â”‚
â”‚ â”œâ”€ totalAmount = sum(amount)      â”‚
â”‚ â”œâ”€ avgAmount = avg(amount)        â”‚
â”‚ â””â”€ statusCount = group_count()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ ObjectSetæŸ¥è¯¢
â”Œâ”€ æ•°æ®å±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SELECT Order.*                    â”‚
â”‚ WHERE store = selectedStore       â”‚
â”‚   AND createdAt IN dateRange      â”‚
â”‚   AND user HAS permission(READ)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Workshopåº”ç”¨å®Œæ•´å®æ–½æŒ‡å—ï¼ˆYAMLé…ç½®ï¼‰**

**æ­¥éª¤1ï¼šåº”ç”¨æ¡†æ¶å®šä¹‰**

```yaml
# foundry/workshops/OrderManagement.yml
apiVersion: v1
kind: Workshop
metadata:
  name: OrderManagement
  namespace: commerce
  description: "ä¼ä¸šçº§è®¢å•ç®¡ç†ç³»ç»Ÿ"
  owners:
    - team: sales-ops
    - email: sales-ops@company.com

spec:
  # é¡µé¢å®šä¹‰
  pages:
    - id: orders_list
      name: "è®¢å•åˆ—è¡¨"
      description: "æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰è®¢å•"
      layout: two-column  # å·¦ä¾§è¿‡æ»¤å™¨ï¼Œå³ä¾§æ•°æ®

      # æ•°æ®æºå®šä¹‰ï¼ˆåœ¨é€»è¾‘å±‚ï¼‰
      dataSources:
        - id: orders_data
          type: ObjectSet
          objectType: Order
          # æƒé™è‡ªåŠ¨åº”ç”¨ï¼šåªçœ‹å½“å‰ç”¨æˆ·èƒ½è®¿é—®çš„è®¢å•
          permissions:
            read:
              - "currentUser.role IN ('Sales', 'Manager', 'Admin')"

        - id: stores_lookup
          type: ObjectSet
          objectType: Store
          query: "SELECT * FROM Store WHERE isActive = true"

        - id: customer_lookup
          type: ObjectSet
          objectType: Customer

      # å˜é‡å®šä¹‰ï¼ˆé€»è¾‘å±‚ï¼‰
      variables:
        # å‚æ•°å˜é‡ï¼šç”¨æˆ·è¾“å…¥
        - id: selectedStore
          type: Parameter
          dataType: String
          default: null  # ç¬¬ä¸€æ¬¡åŠ è½½ä¸ºnullï¼Œæ˜¾ç¤ºæ‰€æœ‰
          description: "ç”¨æˆ·é€‰æ‹©çš„é—¨åº—"

        - id: selectedStatus
          type: Parameter
          dataType: List<String>
          default: ["Pending", "Processing"]  # é»˜è®¤æ˜¾ç¤ºå¾…å¤„ç†è®¢å•
          options:
            - value: Pending
              label: "å¾…å¤„ç†"
            - value: Processing
              label: "å¤„ç†ä¸­"
            - value: Shipped
              label: "å·²å‘è´§"
            - value: Delivered
              label: "å·²äº¤ä»˜"
            - value: Cancelled
              label: "å·²å–æ¶ˆ"

        - id: dateRange
          type: Parameter
          dataType: DateRange
          default:
            start: "DATE_SUB(TODAY(), INTERVAL 30 DAY)"
            end: "TODAY()"
          description: "è®¢å•æ—¶é—´èŒƒå›´"

        - id: searchTerm
          type: Parameter
          dataType: String
          default: null
          description: "è®¢å•å·æˆ–å®¢æˆ·åç§°æœç´¢"

        # è®¡ç®—å˜é‡ï¼šåŸºäºå‚æ•°å˜é‡è®¡ç®—
        - id: filteredOrders
          type: Computed
          dataType: ObjectSet
          formula: |
            orders_data.filter(
              (selectedStore IS NULL OR store_id = selectedStore)
              AND status IN selectedStatus
              AND createdAt >= dateRange.start
              AND createdAt <= dateRange.end
              AND (searchTerm IS NULL
                   OR orderId CONTAINS searchTerm
                   OR relatedTo.customer_name CONTAINS searchTerm)
            )
          dependencies: [selectedStore, selectedStatus, dateRange, searchTerm]

        - id: orderStats
          type: Computed
          dataType: Object
          formula: |
            {
              totalOrders: filteredOrders.count(),
              totalAmount: filteredOrders.aggregate('sum', 'orderAmount'),
              avgAmount: filteredOrders.aggregate('avg', 'orderAmount'),
              highValueOrders: filteredOrders.filter(isUrgent = true).count(),
              byStatus: filteredOrders.groupBy('status').count()
            }
          dependencies: [filteredOrders]

        - id: selectedOrdersForAction
          type: Computed
          dataType: List<String>
          formula: "ordersTable.selectedRows.map(row => row.orderId)"
          description: "ç”¨æˆ·åœ¨è¡¨ä¸­é€‰æ‹©çš„è®¢å•IDåˆ—è¡¨"

      # ç»„ä»¶å®šä¹‰ï¼ˆè¡¨ç°å±‚ï¼‰
      components:
        # ====== ç¬¬ä¸€è¡Œï¼šé¡µå¤´ä¸ç»Ÿè®¡å¡ç‰‡ ======
        - id: page_header
          type: Card
          layout:
            row: 1
            column: 1
            colspan: 2
          content:
            title: "è®¢å•ç®¡ç†ç³»ç»Ÿ"
            subtitle: "å®æ—¶è®¢å•ç›‘æ§ä¸æ“ä½œ"
            badges:
              - label: "æ€»è®¢å•"
                value: "{{ orderStats.totalOrders }}"
                color: blue
              - label: "å¾…å¤„ç†"
                value: "{{ orderStats.byStatus.Pending }}"
                color: orange
              - label: "å·²äº¤ä»˜"
                value: "{{ orderStats.byStatus.Delivered }}"
                color: green
              - label: "é«˜ä»·å€¼"
                value: "{{ orderStats.highValueOrders }}"
                color: red

        - id: summary_cards
          type: Grid
          layout:
            row: 2
            column: 1
            colspan: 2
          gridLayout: "4 columns"
          gap: medium
          cards:
            - title: "æ€»é‡‘é¢"
              value: "{{ orderStats.totalAmount | format: 'currency' }}"
              trend:
                value: "+12%"
                direction: up
            - title: "å¹³å‡è®¢å•é¢"
              value: "{{ orderStats.avgAmount | format: 'currency' }}"
              sparkline: true
            - title: "äº¤ä»˜å‘¨æœŸ"
              value: "3.2 å¤©"
              benchmark: "< 5 å¤©"
            - title: "å®Œæˆç‡"
              value: "92%"
              gauge: true

        # ====== ç¬¬äºŒéƒ¨åˆ†ï¼šè¿‡æ»¤å™¨ ======
        - id: filter_panel
          type: FilterPanel
          layout:
            row: 3
            column: 1
          filters:
            - id: storeFilter
              label: "é—¨åº—"
              variable: selectedStore
              type: Select
              dataSource: stores_lookup
              displayField: store_name
              valueField: store_id
              allowClear: true
              placeholder: "æ‰€æœ‰é—¨åº—"

            - id: statusFilter
              label: "è®¢å•çŠ¶æ€"
              variable: selectedStatus
              type: MultiSelect
              allowSearch: true
              selectAll: false

            - id: dateRangeFilter
              label: "è®¢å•æ—¶é—´"
              variable: dateRange
              type: DateRangePickerFilter
              shortcuts:
                - label: "ä»Šå¤©"
                  value: "TODAY()"
                - label: "æœ¬å‘¨"
                  value: "CURRENT_WEEK()"
                - label: "æœ¬æœˆ"
                  value: "CURRENT_MONTH()"
                - label: "æœ¬å¹´"
                  value: "CURRENT_YEAR()"
                - label: "æœ€è¿‘30å¤©"
                  value: "DATE_SUB(TODAY(), INTERVAL 30 DAY) TO TODAY()"

            - id: searchFilter
              label: "æœç´¢"
              variable: searchTerm
              type: Search
              placeholder: "è®¢å•å·æˆ–å®¢æˆ·åç§°..."
              debounce: 300

        # ====== ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ•°æ®è¡¨ ======
        - id: ordersTable
          type: ObjectTable
          layout:
            row: 4
            column: 1
            colspan: 2
            height: 600px
          config:
            dataSource: filteredOrders
            selectionMode: MultiSelect
            sorting: true
            filtering: false  # åœ¨FilterPanelä¸­å®ç°
            pagination:
              type: ServerSide
              pageSize: 50
              options: [25, 50, 100, 200]

            columns:
              - id: orderId
                header: "è®¢å•å·"
                width: 120px
                sortable: true
                filterable: true
                clickable: true
                onRowClick: "navigate('/order-detail/${orderId}')"
                formatter: |
                  <Link href="/order-detail/${row.orderId}">${row.orderId}</Link>

              - id: customerName
                header: "å®¢æˆ·"
                width: 150px
                sortable: true
                formatter: |
                  <Link href="/customer-detail/${row.relatedTo.customerId}">
                    ${row.relatedTo.customer_name}
                  </Link>

              - id: orderAmount
                header: "è®¢å•é‡‘é¢"
                width: 120px
                sortable: true
                formatter: currency
                alignment: right

              - id: orderStatus
                header: "çŠ¶æ€"
                width: 100px
                sortable: true
                conditionalFormat:
                  - condition: "value = 'Pending'"
                    backgroundColor: "#FFF3CD"
                    textColor: "#856404"
                    icon: "clock"
                  - condition: "value = 'Processing'"
                    backgroundColor: "#D1ECF1"
                    textColor: "#0C5460"
                    icon: "hourglass"
                  - condition: "value = 'Shipped'"
                    backgroundColor: "#E2E3E5"
                    textColor: "#383D41"
                    icon: "truck"
                  - condition: "value = 'Delivered'"
                    backgroundColor: "#D4EDDA"
                    textColor: "#155724"
                    icon: "check"
                  - condition: "value = 'Cancelled'"
                    backgroundColor: "#F8D7DA"
                    textColor: "#721C24"
                    icon: "x"

              - id: isUrgent
                header: "ç´§æ€¥"
                width: 80px
                formatter: |
                  <Badge type=${value ? 'danger' : 'default'}>
                    ${value ? 'æ˜¯' : 'å¦'}
                  </Badge>

              - id: daysToDeliver
                header: "äº¤ä»˜å¤©æ•°"
                width: 100px
                sortable: true
                conditionalFormat:
                  - condition: "value < 3"
                    icon: "lightning"
                    color: "red"
                  - condition: "value >= 3 AND value <= 5"
                    color: "orange"
                  - condition: "value > 5"
                    color: "green"

              - id: createdAt
                header: "åˆ›å»ºæ—¶é—´"
                width: 150px
                sortable: true
                formatter: "datetime"

            rowActions:
              - id: viewDetail
                label: "æŸ¥çœ‹è¯¦æƒ…"
                icon: "eye"
                onClick: "navigate('/order-detail/${orderId}')"
              - id: editOrder
                label: "ç¼–è¾‘"
                icon: "edit"
                visible: "userHasPermission('write')"
                onClick: "openModal('EditOrder', {orderId: ${orderId}})"
              - id: assignOrder
                label: "åˆ†é…"
                icon: "assign"
                visible: "row.status IN ('Pending', 'Processing')"
                onClick: "executeAction('Assign', {orderId: ${orderId}})"
              - id: escalateOrder
                label: "å‡çº§"
                icon: "alert"
                visible: "row.status = 'Pending' AND row.daysToDeliver > 3"
                onClick: "executeAction('Escalate', {orderId: ${orderId}})"
              - id: cancelOrder
                label: "å–æ¶ˆ"
                icon: "trash"
                visible: "row.status != 'Delivered' AND userRole IN ('Manager', 'Admin')"
                onClick: "executeAction('Cancel', {orderId: ${orderId}})"

        # ====== ç¬¬å››éƒ¨åˆ†ï¼šæ“ä½œæŒ‰é’® ======
        - id: bulk_actions
          type: ButtonGroup
          layout:
            row: 5
            column: 1
            colspan: 2
          buttons:
            - id: bulkAssign
              label: "æ‰¹é‡åˆ†é…"
              icon: "assign"
              variant: primary
              visible: "selectedOrdersForAction.length > 0"
              onClick: |
                openModal('BulkAssign', {
                  orderIds: selectedOrdersForAction
                })

            - id: bulkEscalate
              label: "æ‰¹é‡å‡çº§"
              icon: "alert"
              variant: warning
              visible: "selectedOrdersForAction.length > 0"
              onClick: |
                openModal('BulkEscalate', {
                  orderIds: selectedOrdersForAction
                })

            - id: exportToCSV
              label: "å¯¼å‡ºCSV"
              icon: "download"
              onClick: |
                exportData(filteredOrders, {
                  format: 'csv',
                  filename: 'orders_${dateRange.start}_${dateRange.end}.csv'
                })

            - id: refreshData
              label: "åˆ·æ–°"
              icon: "refresh"
              onClick: "refreshDataSource('orders_data')"
```

**æ­¥éª¤2ï¼šåº”ç”¨æ ·å¼ä¸ä¸»é¢˜**

```yaml
# ä¸»é¢˜é…ç½®
styling:
  theme: light
  primaryColor: "#007BFF"
  colors:
    success: "#28A745"
    danger: "#DC3545"
    warning: "#FFC107"
    info: "#17A2B8"

  spacing:
    small: 8px
    medium: 16px
    large: 24px

  typography:
    heading1:
      fontSize: 28px
      fontWeight: bold
    heading2:
      fontSize: 20px
      fontWeight: 600
    body:
      fontSize: 14px
      lineHeight: 1.5
```

**æ­¥éª¤3ï¼šæƒé™ä¸å®‰å…¨**

```yaml
# æƒé™é…ç½®
security:
  # å¯¹è±¡çº§æƒé™
  permissions:
    read:
      conditions:
        - "currentUser.role IN ('Sales', 'Manager', 'Admin')"
        - "OR currentUser.territory IN order.customer.territories"
    write:
      conditions:
        - "currentUser.role IN ('Manager', 'Admin')"
        - "OR currentUser.id = order.assignedTo"
    delete:
      conditions:
        - "currentUser.role = 'Admin'"

  # å®¡è®¡æ—¥å¿—
  auditLog:
    enabled: true
    logLevel: "DETAIL"  # è®°å½•æ‰€æœ‰ç”¨æˆ·æ“ä½œ
    retention: "90 days"

  # APIé™é€Ÿ
  rateLimit:
    requestsPerSecond: 100
    burst: 500
```

**æ­¥éª¤4ï¼šå‘å¸ƒä¸éƒ¨ç½²**

```bash
# éƒ¨ç½²åˆ°å¼€å‘ç¯å¢ƒ
foundry publish-workshop \
  --file foundry/workshops/OrderManagement.yml \
  --environment dev \
  --version v1.0.0

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ˆéœ€è¦å®¡æ‰¹ï¼‰
foundry publish-workshop \
  --file foundry/workshops/OrderManagement.yml \
  --environment prod \
  --requiresApproval true \
  --approvers team:sales-ops,team:platform
```

### 5.3 æ•°æ®å»ºæ¨¡æœ€ä½³å®è·µ

```
ç»´åº¦å»ºæ¨¡ï¼ˆæ¨èç”¨äºå¤§è§„æ¨¡åˆ†æï¼‰

â”Œâ”€ äº‹å®è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SalesOrder              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: orderId             â”‚
â”‚ FK: customerId          â”‚
â”‚ FK: productId           â”‚
â”‚ FK: dateId              â”‚
â”‚ Measures:               â”‚
â”‚  - amount               â”‚
â”‚  - quantity             â”‚
â”‚  - discount             â”‚
â”‚  - tax                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†‘       â†‘       â†‘
    â”‚       â”‚       â”‚
    â””â”¬â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚      â”‚
      â”‚      â”œâ”€ æ—¶é—´ç»´åº¦è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚      â”‚ dateId, year, month â”‚
      â”‚      â”‚ quarter, day_of_weekâ”‚
      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€ å®¢æˆ·ç»´åº¦è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ customerId, name, city   â”‚
      â”‚ segment, lifetime_value  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â””â”€ äº§å“ç»´åº¦è¡¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        productId, name, category
        brand, supplier
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…­ã€å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ

### 6.1 æ•°æ®ä¸€è‡´æ€§é—®é¢˜

```
é™·é˜±1ï¼šå¤šæºæ•°æ®ä¸ä¸€è‡´

åœºæ™¯ï¼š
Orderå¯¹è±¡å…³è”ä¸¤ä¸ªæ•°æ®æº
â”œâ”€ æºAï¼ˆSAPï¼‰ï¼štotalAmount=$1000
â””â”€ æºBï¼ˆSalesforceï¼‰ï¼šamount=$950

ç—‡çŠ¶ï¼š
â””â”€ åŒä¸€è®¢å•åœ¨ä¸åŒåº”ç”¨ä¸­é‡‘é¢ä¸åŒ
â””â”€ æ— æ³•ä¿¡ä»»æ•°æ®

è§£å†³æ–¹æ¡ˆï¼š
1. åœ¨Pipelineä¸­ç»Ÿä¸€è½¬æ¢é€»è¾‘
   â”œâ”€ å®šä¹‰é‡‘é¢è½¬æ¢è§„åˆ™ï¼ˆæ±‡ç‡è°ƒæ•´ç­‰ï¼‰
   â””â”€ ç»Ÿä¸€æ•°æ®æºä¼˜å…ˆçº§

2. åœ¨æœ¬ä½“ä¸­å®šä¹‰ä¸»æ•°æ®æº
   Order.amount (æºè‡ªSAPï¼Œä¼˜å…ˆçº§æœ€é«˜)
   Order.salesforceAmount (åªè¯»å¤‡ä»½)

3. æ•°æ®å¯¹è´¦
   â”œâ”€ æ·»åŠ å·®å¼‚è®¡ç®—å­—æ®µ
   â””â”€ è‡ªåŠ¨å‘Šè­¦å¼‚å¸¸
```

### 6.2 æƒé™æ³„éœ²é£é™©

```
é™·é˜±2ï¼šæƒé™ä¸åŒ¹é…å¯¼è‡´æ•°æ®æ³„éœ²

åœºæ™¯ï¼š
ç”¨æˆ·Aï¼ˆé”€å”®ï¼‰è¢«èµ‹äºˆè®¿é—®æ‰€æœ‰è®¢å•çš„æƒé™
ç”¨æˆ·Bï¼ˆå®¢æˆ·ï¼‰æ— æ„ä¸­èƒ½çœ‹åˆ°å…¶ä»–å®¢æˆ·è®¢å•

åŸå› ï¼š
â””â”€ å¯¹è±¡è¡¨æœªè®¾ç½®è¡Œçº§æƒé™è¿‡æ»¤

è§£å†³æ–¹æ¡ˆï¼š
1. å¯¹è±¡çº§æƒé™ï¼ˆObject-levelï¼‰
   Order.canView = currentUser.department == 'Sales'

2. å±æ€§çº§æƒé™ï¼ˆAttribute-levelï¼‰
   Order.profitMargin (ä»…ç®¡ç†å±‚å¯è§)
   Order.customer.email (ä»…order_ownerå¯è§)

3. è¡Œçº§æƒé™ï¼ˆRow-levelï¼‰
   ObjectSetè¢«è¿‡æ»¤ï¼š
   â””â”€ currentUser.territory IN order.customer.territory
```

### 6.3 æ€§èƒ½é—®é¢˜

```
é™·é˜±3ï¼šå¤æ‚è”æ¥å¯¼è‡´è¶…æ—¶

ç—‡çŠ¶ï¼š
SELECT * FROM Order
JOIN Customer ON Order.customerId = Customer.customerId
JOIN Product ON Order.productId = Product.productId
JOIN Warehouse ON Order.warehouseId = Warehouse.warehouseId
â†’ è¶…æ—¶ï¼ˆ>30sï¼‰

æ ¹æœ¬åŸå› ï¼š
â””â”€ å¤šè¡¨è”æ¥åœ¨Query Engineä¸­æ‰§è¡Œ

è§£å†³æ–¹æ¡ˆï¼š
1. é¢„èšåˆï¼ˆPre-aggregationï¼‰
   åœ¨Pipelineä¸­é¢„å…ˆè®¡ç®—å¸¸ç”¨çš„è”æ¥ç»“æœ

2. ç‰©åŒ–è§†å›¾ï¼ˆMaterialized Viewsï¼‰
   OrderDetailå¯¹è±¡é¢„å…ˆåŒ…å«Customer/Productä¿¡æ¯

3. ç¼“å­˜ç­–ç•¥
   â””â”€ Redisç¼“å­˜çƒ­æ•°æ®

4. æŸ¥è¯¢ä¼˜åŒ–
   â””â”€ åœ¨Workshopä¸­åˆ†é¡µ+å»¶è¿ŸåŠ è½½
```

### 6.4 å®¡è®¡ä¸åˆè§„é—®é¢˜

```
é™·é˜±4ï¼šæ— æ³•è¿½è¸ªæ•°æ®ä¿®æ”¹æ¥æº

ç—‡çŠ¶ï¼š
å®¢æˆ·æŠ•è¯‰ï¼šè®¢å•çŠ¶æ€è¢«é”™è¯¯ä¿®æ”¹
æ— æ³•ç¡®å®šï¼šè°åšçš„ã€ä»€ä¹ˆæ—¶å€™ã€åŸå› æ˜¯ä»€ä¹ˆ

è§£å†³æ–¹æ¡ˆï¼š
1. ä¸å¯å˜å®¡è®¡æ—¥å¿—ï¼ˆå¿…é¡»ï¼‰
   â”œâ”€ æ‰€æœ‰Operationè®°å½•
   â”œâ”€ åŒ…å«ï¼šæ“ä½œäººã€æ—¶é—´ã€å‚æ•°ã€ç»“æœ
   â””â”€ å­˜å‚¨äºåªè¯»è¡¨

2. ç‰ˆæœ¬æ§åˆ¶
   Order.statusHistory
   â””â”€ [{status, timestamp, changedBy, reason}]

3. å˜æ›´çª—å£
   â”œâ”€ æ“ä½œä»…åœ¨ç‰¹å®šæ—¶é—´å…è®¸
   â”œâ”€ éœ€å¤šäººå®¡æ‰¹
   â””â”€ å®¡æ‰¹é“¾è·¯å®Œæ•´è®°å½•
```

---

## ä¸ƒã€AIä¸è‡ªåŠ¨åŒ–æ·±åº¦å®æ–½æŒ‡å—

### 7.1 AIP Logic RAGç³»ç»Ÿå®Œæ•´å®ç°

#### **åœºæ™¯ï¼šå®¢æœæ™ºèƒ½åŠ©æ‰‹**

```yaml
# å®Œæ•´çš„RAGç³»ç»Ÿé…ç½®
apiVersion: v1
kind: AIPLogic
metadata:
  name: CustomerServiceAssistant
  namespace: service
spec:
  # ç¬¬1é˜¶æ®µï¼šæ•°æ®å‡†å¤‡ä¸å‘é‡åŒ–
  embeddingConfig:
    model: openai/text-embedding-3-large
    apiKey: ${OPENAI_API_KEY}
    chunkSize: 512
    overlapPercent: 20
    embeddingDimension: 3072

    # æ•°æ®æºå®šä¹‰
    dataSources:
      - id: faq_dataset
        type: Dataset
        datasetId: faq_knowledge_base
        refreshSchedule: daily at 02:00 UTC

      - id: product_catalog
        type: ObjectSet
        objectType: Product
        selectFields:
          - product_id
          - product_name
          - description
          - price
          - category
          - specifications
          - warranty_info
        filterCondition: "isActive = true"

      - id: ticket_history
        type: Dataset
        datasetId: resolved_support_tickets
        selectFields:
          - ticket_id
          - question
          - answer
          - category
        filterCondition: "resolution_status = 'Resolved' AND ticket_date >= DATE_SUB(TODAY(), INTERVAL 1 YEAR)"

  # ç¬¬2é˜¶æ®µï¼šè¯­ä¹‰æœç´¢
  semanticSearch:
    enabled: true
    model: openai/text-embedding-3-large
    searchConfig:
      topK: 5  # è¿”å›æœ€ç›¸å…³çš„5æ¡ç»“æœ
      minSimilarity: 0.75
      searchFields:
        - faq_dataset.content
        - product_catalog.description
        - ticket_history.answer

      # æœç´¢ä¼˜åŒ–
      boostConfig:
        - field: product_catalog.category
          boost: 1.5  # ä¼˜å…ˆè¿”å›äº§å“ä¿¡æ¯
        - field: ticket_history.answer
          boost: 1.2

      # å¤šè¯­è¨€æ”¯æŒ
      languages:
        - en
        - zh-CN
        - es

  # ç¬¬3é˜¶æ®µï¼šLLMç”Ÿæˆ
  llmConfig:
    model: gpt-4-turbo
    apiKey: ${OPENAI_API_KEY}
    temperature: 0.7
    maxTokens: 2000
    topP: 0.9

    # ç³»ç»Ÿæç¤ºè¯å®šä¹‰
    systemPrompt: |
      ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å®¢æœåŠ©æ‰‹ï¼Œä»£è¡¨Company Xã€‚

      èŒè´£ï¼š
      1. å›ç­”å®¢æˆ·å…³äºäº§å“ã€æœåŠ¡ã€è®¢å•ã€æ”¯ä»˜çš„é—®é¢˜
      2. æä¾›å‡†ç¡®ã€å‹å¥½ã€æœ‰å¸®åŠ©çš„å›å¤
      3. å¦‚æœä¸ç¡®å®šç­”æ¡ˆï¼Œè¯·è¯´"æˆ‘ä¸æ¸…æ¥šï¼Œè®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹"è€Œä¸æ˜¯ç¼–é€ ç­”æ¡ˆ
      4. ä¼˜å…ˆä½¿ç”¨æ£€ç´¢åˆ°çš„ä¿¡æ¯ï¼ˆä¸Šä¸‹æ–‡ï¼‰å›ç­”
      5. å¦‚æœéœ€è¦ï¼Œå»ºè®®å®¢æˆ·è”ç³»äººå·¥å®¢æœ

      è¯­æ°”ï¼šå‹å¥½ã€ä¸“ä¸šã€å°Šé‡

      æ ¼å¼ï¼š
      - æ¯ä¸ªå›å¤æœ€å¤š3æ®µè½
      - ä½¿ç”¨Markdownæ ¼å¼åŒ–
      - å¦‚æœ‰éœ€è¦ï¼ŒåŒ…å«ç›¸å…³é“¾æ¥æˆ–èµ„æº

    # ä¸Šä¸‹æ–‡ç®¡ç†
    contextWindow:
      maxSize: 4000  # tokens
      prioritization: relevance  # æŒ‰ç›¸å…³æ€§æ’åº

    # å®‰å…¨ä¸é˜²æŠ¤
    safetyGuards:
      - rule: "ä¸å…è®¸æ³„éœ²ä¸ªäººæ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·å¯†ç ã€æ”¯ä»˜å¡ï¼‰"
        action: REDACT
      - rule: "ä¸å…è®¸åšå‡ºè¶…å‡ºæƒé™çš„æ‰¿è¯ºï¼ˆå¦‚é€€æ¬¾å†³ç­–ï¼‰"
        action: ESCALATE
      - rule: "æ£€æµ‹åˆ°ç”¨æˆ·è¡¨è¾¾ä¸æ»¡æ—¶ï¼Œè‡ªåŠ¨å‡çº§"
        condition: "sentiment = 'negative' AND urgency = 'high'"
        action: ESCALATE_TO_HUMAN

  # ç¬¬4é˜¶æ®µï¼šå·¥ä½œæµå®šä¹‰
  workflow:
    steps:
      - id: 1_receive_query
        type: Input
        description: "æ¥æ”¶ç”¨æˆ·é—®é¢˜"
        output: user_query

      - id: 2_preprocess
        type: Transform
        description: "é¢„å¤„ç†é—®é¢˜ï¼ˆæ¸…ç†ã€æ ‡å‡†åŒ–ï¼‰"
        config:
          - normalize: true
          - removeStopWords: true
          - expandAbbreviations: true
        output: cleaned_query

      - id: 3_intent_detection
        type: ClassifyBlock
        description: "æ£€æµ‹ç”¨æˆ·æ„å›¾"
        config:
          model: openai/gpt-3.5-turbo
          categories:
            - product_info
            - order_status
            - billing
            - shipping
            - returns
            - technical_issue
            - other
        output: detected_intent

      - id: 4_semantic_search
        type: SemanticSearchBlock
        description: "è¯­ä¹‰æœç´¢æ£€ç´¢ç›¸å…³æ–‡æ¡£"
        config:
          query: "{{ cleaned_query }}"
          dataSources: [faq_dataset, product_catalog, ticket_history]
          topK: 5
          minSimilarity: 0.75
        output: search_results

      - id: 5_context_formatting
        type: Transform
        description: "æ ¼å¼åŒ–æ£€ç´¢ç»“æœä¸ºLLMä¸Šä¸‹æ–‡"
        config:
          template: |
            # æ£€ç´¢åˆ°çš„ç›¸å…³ä¿¡æ¯ï¼š
            {{#each search_results}}
            ## {{this.source}} - ç›¸å…³æ€§: {{this.similarity}}%
            {{this.content}}
            {{/each}}
        output: formatted_context

      - id: 6_llm_generation
        type: LLMBlock
        description: "ä½¿ç”¨LLMç”Ÿæˆå›å¤"
        config:
          model: gpt-4-turbo
          systemPrompt: "{{ systemPrompt }}"
          userMessage: |
            ç”¨æˆ·é—®é¢˜ï¼š{{ cleaned_query }}

            {{ formatted_context }}

            è¯·åŸºäºä¸Šè¿°ä¿¡æ¯å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚
          safetyChecks: true
        output: ai_generated_answer

      - id: 7_quality_check
        type: QualityCheckBlock
        description: "è´¨é‡æ£€æŸ¥ï¼ˆæ˜¯å¦åŒ…å«å¹»è§‰ï¼‰"
        config:
          checks:
            - type: fact_grounding
              threshold: 0.85
              description: "éªŒè¯ç”Ÿæˆçš„äº‹å®æ˜¯å¦æ¤æ ¹äºæ£€ç´¢ç»“æœ"
            - type: sentiment_alignment
              description: "ç¡®ä¿è¯­æ°”ä¸å“ç‰Œä¸€è‡´"
            - type: safety_check
              rules: ["no_sensitive_info", "no_promises"]
        output: quality_score

      - id: 8_confidence_threshold
        type: ConditionalBlock
        description: "åˆ¤æ–­æ˜¯å¦ç›´æ¥å›å¤æˆ–å‡çº§"
        conditions:
          - condition: "quality_score >= 0.9"
            action: "return_answer"
          - condition: "quality_score < 0.7"
            action: "escalate_to_human"
          - condition: "quality_score >= 0.7 AND quality_score < 0.9"
            action: "return_with_disclaimer"
        output: routing_decision

      - id: 9_tracking
        type: Transform
        description: "è®°å½•äº’åŠ¨æ•°æ®ç”¨äºåé¦ˆ"
        config:
          fields:
            - timestamp: "NOW()"
            - user_id: "{{ currentUser.id }}"
            - query: "{{ cleaned_query }}"
            - intent: "{{ detected_intent }}"
            - answer_type: "{{ routing_decision }}"
            - quality_score: "{{ quality_score }}"
            - response_time: "{{ execution_time }}"
        output: interaction_log

      - id: 10_feedback_collection
        type: Output
        description: "è¾“å‡ºå›å¤å¹¶æ”¶é›†åé¦ˆ"
        config:
          response: "{{ ai_generated_answer }}"
          enableFeedback: true
          feedbackQuestions:
            - "è¿™ä¸ªå›ç­”æ˜¯å¦æœ‰å¸®åŠ©ï¼Ÿ"
            - "å›ç­”å‡†ç¡®åº¦å¦‚ä½•ï¼Ÿ"
            - "æ˜¯å¦éœ€è¦è¿›ä¸€æ­¥å¸®åŠ©ï¼Ÿ"

  # ç¬¬5é˜¶æ®µï¼šç›‘æ§ä¸æŒç»­å­¦ä¹ 
  monitoring:
    metrics:
      - name: query_resolution_rate
        description: "ç”¨æˆ·è®¤ä¸ºé—®é¢˜å·²è§£å†³çš„æ¯”ä¾‹"
        target: ">85%"
        alert: "<80%"

      - name: hallucination_rate
        description: "AIç”Ÿæˆå¹»è§‰ï¼ˆä¸åŸºäºäº‹å®ï¼‰çš„æ¯”ä¾‹"
        target: "<5%"
        alert: ">10%"

      - name: escalation_rate
        description: "å‡çº§ç»™äººå·¥å®¢æœçš„æ¯”ä¾‹"
        target: "<20%"
        alert: ">30%"

      - name: average_response_time
        description: "å¹³å‡å›å¤æ—¶é—´ï¼ˆç§’ï¼‰"
        target: "<3"
        alert: ">5"

      - name: user_satisfaction
        description: "ç”¨æˆ·æ»¡æ„åº¦è¯„åˆ†"
        target: ">4.0/5"
        alert: "<3.5/5"

    # åé¦ˆå›è·¯
    feedbackLoop:
      enabled: true
      frequency: daily
      actions:
        - trigger: "hallucination_rate > 10%"
          action: "alert_data_team"
        - trigger: "resolution_rate < 80%"
          action: "review_failed_queries"
        - trigger: "user_satisfaction < 3.5"
          action: "flag_for_retraining"

    # æŒç»­æ”¹è¿›
    continuousImprovement:
      - type: FineTuning
        frequency: weekly
        dataSource: "positive_feedback_queries"
        description: "ä½¿ç”¨ç”¨æˆ·ç¡®è®¤çš„é«˜è´¨é‡å›å¤å¾®è°ƒæ¨¡å‹"

      - type: DataRefresh
        frequency: daily
        description: "æ›´æ–°FAQã€äº§å“ä¿¡æ¯ç­‰çŸ¥è¯†åº“"

      - type: PromptOptimization
        frequency: monthly
        description: "åŸºäºå¤±è´¥æ¡ˆä¾‹ä¼˜åŒ–ç³»ç»Ÿæç¤ºè¯"
```

#### **åº”ç”¨é›†æˆç¤ºä¾‹ï¼šåœ¨Workshopä¸­ä½¿ç”¨**

```yaml
# Workshopåº”ç”¨ç»„ä»¶
components:
  - id: chat_interface
    type: ChatInterface
    config:
      aipLogicId: CustomerServiceAssistant
      features:
        - messageHistory: true
        - suggestionCards: true
        - fileUpload: true  # ç”¨æˆ·å¯ä»¥ä¸Šä¼ è®¢å•æˆªå›¾ç­‰

      # é¢„è®¾é—®é¢˜æ¨¡æ¿
      suggestedQuestions:
        - "å¦‚ä½•æŸ¥è¯¢æˆ‘çš„è®¢å•çŠ¶æ€ï¼Ÿ"
        - "å¦‚ä½•ç”³è¯·é€€è´§ï¼Ÿ"
        - "å¦‚ä½•è”ç³»å®¢æœï¼Ÿ"
        - "äº§å“ä¿ä¿®æœŸæ˜¯å¤šä¹…ï¼Ÿ"

      # ä¸æœ¬ä½“å¯¹è±¡çš„é›†æˆ
      contextVariables:
        - currentUser.customerId
        - currentUser.previousOrders
        - currentUser.preferences

      # å“åº”ååŠ¨ä½œ
      postAnswerActions:
        - id: createTicket
          label: "æˆ‘éœ€è¦äººå·¥å¸®åŠ©"
          type: CreateObject
          objectType: SupportTicket
          mapping:
            customer_id: "currentUser.customerId"
            issue: "{{ conversationContext }}"
            created_at: "NOW()"

        - id: feedback
          label: "è¿™ä¸ªå›ç­”æœ‰ç”¨å—ï¼Ÿ"
          type: CollectFeedback
          feedbackType: sentiment  # positive/neutral/negative
```

### 7.2 AIP Agentè‡ªä¸»å·¥ä½œæµ

```yaml
# Agentå®šä¹‰ï¼šè‡ªåŠ¨å¤„ç†è®¢å•å¼‚å¸¸
apiVersion: v1
kind: AIPAgent
metadata:
  name: OrderAnomalyHandler
  namespace: operations
spec:
  # AgentåŸºæœ¬é…ç½®
  model: gpt-4-turbo
  systemPrompt: |
    ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è®¢å•ç®¡ç†Agentã€‚

    èƒ½åŠ›ï¼š
    1. åˆ†æè®¢å•å¼‚å¸¸ï¼ˆå»¶è¿Ÿã€ç¼ºè´§ã€è´¨é‡é—®é¢˜ï¼‰
    2. æå‡ºè§£å†³æ–¹æ¡ˆ
    3. æ‰§è¡Œè¡¥æ•‘æªæ–½ï¼ˆå‘èµ·é€€æ¬¾ã€æ¢è´§ç­‰ï¼‰
    4. ä¸å®¢æˆ·æ²Ÿé€š

    é™åˆ¶ï¼š
    - å•ä¸ªé€€æ¬¾é‡‘é¢ä¸è¶…è¿‡$1000ï¼ˆå¦åˆ™éœ€è¦ç»ç†å®¡æ‰¹ï¼‰
    - ä¸èƒ½åˆ é™¤è®¢å•è®°å½•
    - å¿…é¡»è®°å½•æ‰€æœ‰æ“ä½œç”¨äºå®¡è®¡

  # ç›‘æ§ä¸è§¦å‘
  trigger:
    type: EventBased
    events:
      - "Order.status = 'Shipped' AND createdAt < NOW() - INTERVAL 7 DAY"  # 7å¤©æœªé€è¾¾
      - "Order.contains.Product.inventory < 10 AND status = 'Pending'"  # ç¼ºè´§
      - "QualityIssue.severity = 'high' AND relatedTo.Order IS NOT NULL"  # è´¨é‡é—®é¢˜

  # å·¥å…·å®šä¹‰ï¼šAgentå¯ä»¥æ‰§è¡Œçš„æ“ä½œ
  tools:
    - id: queryOrderDetails
      description: "æŸ¥è¯¢è®¢å•å®Œæ•´ä¿¡æ¯"
      type: ObjectQuery
      config:
        objectType: Order
        inputs:
          - orderId
        outputs:
          - status
          - amount
          - relatedTo  # Customer
          - contains  # Products

    - id: checkInventory
      description: "æ£€æŸ¥åº“å­˜"
      type: ObjectQuery
      objectType: Product
      inputs:
        - productId
      outputs:
        - inventory_count
        - restock_date

    - id: getShippingStatus
      description: "è·å–ç‰©æµè¿½è¸ªä¿¡æ¯"
      type: Webhook
      config:
        endpoint: "https://logistics-provider.com/api/track"
        inputs:
          - tracking_number
        outputs:
          - status
          - location
          - estimated_delivery

    - id: initiateRefund
      description: "å‘èµ·é€€æ¬¾"
      type: ObjectAction
      config:
        action: Refund
        objectType: Order
        inputs:
          - orderId
          - refundAmount
          - reason
        requiresApproval:
          condition: "refundAmount > 1000"
          approvers: [Manager]

    - id: issueReplacement
      description: "å‘èµ·æ¢è´§"
      type: ObjectAction
      config:
        action: IssueReplacement
        objectType: Order

    - id: sendNotification
      description: "å‘å®¢æˆ·å‘é€é€šçŸ¥"
      type: Webhook
      config:
        endpoint: "https://notification-service.com/api/send"
        inputs:
          - customer_id
          - message_type
          - content

    - id: createSupportTicket
      description: "åˆ›å»ºæ”¯æŒå·¥å•"
      type: CreateObject
      objectType: SupportTicket
      inputs:
        - customer_id
        - issue_type
        - priority

  # å†³ç­–æµç¨‹
  decisionFlow:
    # åœºæ™¯1ï¼šè®¢å•7å¤©æœªé€è¾¾
    scenario1:
      trigger: "Order.status = 'Shipped' AND createdAt < NOW() - INTERVAL 7 DAY"
      steps:
        - step: "call queryOrderDetails with orderId"
        - step: "call getShippingStatus with tracking_number"
        - step: |
            IF shipping_status.estimated_delivery < TODAY():
              - ç‰©æµå·²å»¶è¿Ÿ
              - è¯„ä¼°è§£å†³æ–¹æ¡ˆï¼š
                a) è·Ÿè¸ªç»§ç»­ï¼šå¦‚æœé¢„è®¡ä»Šå¤©é€è¾¾
                b) é‡æ–°å‘è´§ï¼šå¦‚æœåŒ…è£¹ä¸¢å¤±
                c) é€€æ¬¾ï¼šå¦‚æœå®¢æˆ·åŒæ„
            ELSE:
              - ç‰©æµåœ¨é€”ï¼Œç»§ç»­ç›‘æ§
        - step: |
            IF order.amount < 100:
              - è‡ªåŠ¨å‘èµ·é€€æ¬¾ (Agentæƒé™å†…)
              - å‘å®¢æˆ·å‘é€é€šçŸ¥
            ELSE IF order.amount >= 100 AND order.amount <= 1000:
              - è¯¢é—®å®¢æˆ·ï¼š" æ‚¨å¸Œæœ›é€€æ¬¾è¿˜æ˜¯é‡æ–°å‘è´§ï¼Ÿ"
            ELSE:
              - å‡çº§ç»™Managerå®¡æ‰¹

  # äººå·¥å®¡æŸ¥ä¸åé¦ˆ
  humanInTheLoop:
    enabled: true
    reviewThreshold:
      - condition: "decision.impact = 'high'"
        reviewers: [Manager, Director]
      - condition: "decision.impact = 'medium' AND confidence < 0.8"
        reviewers: [Manager]

    # åé¦ˆå­¦ä¹ 
    feedbackCollection:
      enabled: true
      questions:
        - "è¿™ä¸ªå†³ç­–æ˜¯å¦åˆç†ï¼Ÿ"
        - "æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Ÿ"
        - "Agentçš„æ¨ç†è¿‡ç¨‹æ˜¯å¦æ¸…æ™°ï¼Ÿ"

    # æŒç»­å­¦ä¹ 
    continuousLearning:
      type: ReinforcementLearning
      frequency: weekly
      dataSource: "approved_decisions"
      description: "ä»è·æ‰¹çš„å†³ç­–ä¸­å­¦ä¹ æ¨¡å¼"

  # å†…å­˜ä¸ä¸Šä¸‹æ–‡ç®¡ç†
  memory:
    type: ShortTermAndLongTerm
    shortTerm:
      capacity: 10  # ä¿ç•™æœ€è¿‘10ä¸ªäº¤äº’
      ttl: "24h"
    longTerm:
      storage: "database"
      indexed: true
      retrieval: "semantic_search"

    # Agentå¯ä»¥è®°ä½ç‰¹å®šå®¢æˆ·çš„åå¥½
    contextManagement:
      - "customer_preferences: å¦‚æœè®¢å•åœ¨å›½é™…çº¿è·¯ä¸Šå»¶è¿Ÿï¼Œæ­¤å®¢æˆ·å€¾å‘äºé€€æ¬¾è€Œä¸æ˜¯é‡æ–°å‘è´§"
      - "previous_issues: æ­¤å®¢æˆ·è®¢å•ç»å¸¸åœ¨ç‰¹å®šä»“åº“å‡ºç°é—®é¢˜"
      - "vip_status: VIPå®¢æˆ·åº”è¯¥ä¼˜å…ˆçº§æ›´é«˜ã€æ›´å®½æ¾çš„æ”¿ç­–"

  # ç›‘æ§ä¸å‘Šè­¦
  monitoring:
    metrics:
      - name: decision_accuracy
        target: ">90%"
      - name: customer_satisfaction
        target: ">4.0/5"
      - name: resolution_time
        target: "<2h"

    alerts:
      - condition: "decision_accuracy < 80%"
        action: "alert_team + manual_review_all"
      - condition: "failed_decisions > 10"
        action: "trigger_retraining"
```

---

## å…«ã€ROIè®¡ç®—ä¸æˆæœ¬åˆ†æ

### 7.1 PalantiræŠ•èµ„å›æŠ¥ç‡è¯„ä¼°

#### **æˆæœ¬ç»“æ„åˆ†æ**

```
Year 1æˆæœ¬åˆ†è§£

â”œâ”€ è½¯ä»¶è®¸å¯è¯è´¹ç”¨ï¼š$X
â”‚  â”œâ”€ Platform Licenseï¼ˆæ ¸å¿ƒï¼‰ï¼š60%
â”‚  â”œâ”€ AIP Licenseï¼ˆAIæ¨¡å—ï¼‰ï¼š30%
â”‚  â””â”€ Support & SLAï¼š10%
â”‚
â”œâ”€ å®æ–½æˆæœ¬ï¼š$Y
â”‚  â”œâ”€ å’¨è¯¢ä¸è®¾è®¡ï¼š40%
â”‚  â”œâ”€ æ•°æ®é›†æˆï¼š35%
â”‚  â”œâ”€ åº”ç”¨å¼€å‘ï¼š20%
â”‚  â””â”€ åŸ¹è®­ï¼š5%
â”‚
â”œâ”€ è¿ç»´æˆæœ¬ï¼š$Z
â”‚  â”œâ”€ åŸºç¡€è®¾æ–½ï¼š60%
â”‚  â”œâ”€ äººåŠ›ï¼š30%
â”‚  â””â”€ æ•°æ®ç®¡ç†ï¼š10%
â”‚
â””â”€ æ€»å¹´æˆæœ¬ï¼š$X + $Y + $Z

å‡è®¾åœºæ™¯ï¼ˆä¸­å‹ä¼ä¸šï¼Œ100ç”¨æˆ·ï¼‰ï¼š
â”œâ”€ è®¸å¯è¯ï¼š$500k/year
â”œâ”€ å®æ–½ï¼š$800k (one-time)
â””â”€ è¿ç»´ï¼š$200k/year
æ€»è®¡ï¼š$1.5M (Year 1), $700k/year (åç»­)
```

#### **æ”¶ç›Šè¯„ä¼°**

```
å…¸å‹æ”¶ç›Šåœºæ™¯

1. è¿è¥æ•ˆç‡æå‡
   â”œâ”€ æ‰‹åŠ¨æŠ¥å‘Šæ—¶é—´ 80h/week â†’ 8h/week
   â”‚  â””â”€ èŠ‚çœæˆæœ¬ï¼š72h Ã— $100/h = $7.2k/week = $374k/year
   â”œâ”€ å†³ç­–å‘¨æœŸ 2å‘¨ â†’ 1å¤©
   â”‚  â””â”€ éšæ€§æ”¶ç›Šï¼ˆå¿«é€Ÿå“åº”ï¼‰ï¼šæœªå®šé‡
   â””â”€ é”™è¯¯ç‡ä¸‹é™ 5% â†’ 0.5%
      â””â”€ èŠ‚çœæˆæœ¬ï¼šé”™è¯¯ä¿®æ­£æˆæœ¬ä¸‹é™50% = $100k/year

2. æ”¶å…¥å¢é•¿
   â”œâ”€ ç²¾å‡†è¥é”€å“åº”ç‡æå‡ 2% â†’ 3%
   â”‚  â””â”€ å¢æ”¶ï¼š$1M Ã— 1% = $10k
   â”œâ”€ å®¢æˆ·æ»¡è¶³åº¦æå‡ï¼ˆå¿«é€Ÿå¤„ç†ï¼‰
   â”‚  â””â”€ ç•™å­˜ç‡æå‡ 2% = $50k
   â””â”€ æ–°äº§å“/æœåŠ¡å¼€å‘åŠ é€Ÿ
      â””â”€ å¢æ”¶ï¼ˆé¢„æœŸï¼‰ï¼š$200k

3. é£é™©é™ä½
   â”œâ”€ åˆè§„è¿è§„é£é™©ä¸‹é™ â†’ ç½šæ¬¾é£é™©å‡å°‘ï¼š$50k
   â”œâ”€ æ¬ºè¯ˆæ£€æµ‹ â†’ æŸå¤±å‡å°‘ï¼š$100k
   â””â”€ ç³»ç»Ÿå¯ç”¨æ€§æå‡ â†’ SLAè¿çº¦ç½šæ¬¾å‡å°‘ï¼š$20k

Year 1 æ€»æ”¶ç›Šä¼°ç®—ï¼š
â”œâ”€ æ•ˆç‡æ”¶ç›Šï¼š$374k + $100k = $474k
â”œâ”€ æ”¶å…¥å¢é•¿ï¼š$10k + $50k = $60k
â”œâ”€ é£é™©é™ä½ï¼š$50k + $100k + $20k = $170k
â””â”€ æ€»è®¡ï¼š$704k

ROIè®¡ç®—ï¼š
â”œâ”€ æˆæœ¬ï¼š$1.5M
â”œâ”€ æ”¶ç›Šï¼š$704k
â”œâ”€ å‡€æ”¶ç›Šï¼ˆYear 1ï¼‰ï¼š$704k - $1.5M = -$796k
â””â”€ Break-evenæ—¶é—´ï¼š2-3å¹´
   (Year 2: $700k, Year 3: $700k +ç´¯ç§¯)

Long-term ROIï¼š
â”œâ”€ 5å¹´æˆæœ¬ï¼š$1.5M + $200kÃ—4 = $2.3M
â”œâ”€ 5å¹´æ”¶ç›Šï¼š$704k Ã— 5 = $3.52M
â””â”€ 5å¹´ROIï¼š($3.52M - $2.3M) / $2.3M = 53%
```

### 7.2 ä¸åŒåœºæ™¯çš„ROIå¯¹æ¯”

```
é«˜æ”¶ç›Šåœºæ™¯ï¼ˆé‡‘èæœºæ„ï¼‰
â”œâ”€ æ¬ºè¯ˆæŸå¤±å‡å°‘ï¼š$500k-$1M/year
â”œâ”€ é£é™©åˆè§„ç½šæ¬¾é¿å…ï¼š$200k-$500k/year
â”œâ”€ æŠ•èµ„å†³ç­–åŠ é€Ÿï¼š$100k-$300k/year
â””â”€ æ€»å¹´æ”¶ç›Šï¼š$800k-$1.8M/year
   Break-evenï¼š12-24ä¸ªæœˆ

ä¸­ç­‰æ”¶ç›Šåœºæ™¯ï¼ˆåˆ¶é€ ä¼ä¸šï¼‰
â”œâ”€ ç”Ÿäº§æ•ˆç‡æå‡ï¼š$100k-$300k/year
â”œâ”€ è´¨é‡é—®é¢˜å‡å°‘ï¼š$50k-$150k/year
â”œâ”€ ä¾›åº”é“¾ä¼˜åŒ–ï¼š$100k-$200k/year
â””â”€ æ€»å¹´æ”¶ç›Šï¼š$250k-$650k/year
   Break-evenï¼š24-60ä¸ªæœˆ

ä½æ”¶ç›Šåœºæ™¯ï¼ˆåˆåˆ›ä¼ä¸šï¼‰
â”œâ”€ æŠ¥å‘Šè‡ªåŠ¨åŒ–ï¼š$30k-$50k/year
â”œâ”€ å›¢é˜Ÿæ•ˆç‡æå‡ï¼š$20k-$40k/year
â””â”€ æ€»å¹´æ”¶ç›Šï¼š$50k-$90k/year
   ä¸å»ºè®®ç«‹å³æŠ•èµ„ï¼ˆæˆæœ¬>æ”¶ç›Šï¼‰
   å»ºè®®ç­‰åˆ°æ•°æ®è§„æ¨¡è¾¾åˆ°ä¸€å®šé‡çº§
```

### 7.3 æˆæœ¬ä¼˜åŒ–å»ºè®®

```
å®æ–½é˜¶æ®µä¼˜åŒ–
â”œâ”€ é˜¶æ®µåŒ–å®æ–½ï¼ˆä¸è¦å¤§çˆ†ç‚¸ï¼‰
â”‚  â”œâ”€ Phase 1ï¼ˆ3ä¸ªæœˆï¼‰ï¼šå…³é”®æµç¨‹è¯•ç‚¹
â”‚  â”œâ”€ Phase 2ï¼ˆ3ä¸ªæœˆï¼‰ï¼šæ‰©å±•åˆ°æ ¸å¿ƒéƒ¨é—¨
â”‚  â””â”€ Phase 3ï¼ˆ6ä¸ªæœˆï¼‰ï¼šå…¨å…¬å¸éƒ¨ç½²
â”‚  æ•ˆæœï¼šåˆ†æ•£é£é™©ã€é€æ­¥ä¼˜åŒ–ã€è·å¾—ROIè¯æ®
â”‚
â”œâ”€ ä¼˜å…ˆçº§æ’åº
â”‚  â”œâ”€ é«˜æ”¶ç›Šã€ä½æˆæœ¬ä¼˜å…ˆ
â”‚  â”œâ”€ é«˜æ”¶ç›Šã€é«˜æˆæœ¬æ¬¡ä¹‹
â”‚  â””â”€ ä½æ”¶ç›Šä¼˜å…ˆçº§é å
â”‚
â””â”€ MVPç­–ç•¥
   â”œâ”€ ç”¨æœ€å°åŠŸèƒ½éªŒè¯ä»·å€¼
   â”œâ”€ å¿«é€Ÿè·å¾—æˆåŠŸæ¡ˆä¾‹
   â””â”€ ä¸ºæ‰©å±•å»ºç«‹ä¿¡å¿ƒ

è¿ç»´é˜¶æ®µä¼˜åŒ–
â”œâ”€ è‡ªåŠ¨åŒ–è¿ç»´ï¼ˆé™ä½äººåŠ›æˆæœ¬ï¼‰
â”‚  â”œâ”€ æ•°æ®ç®¡é“è‡ªåŠ¨åŒ–
â”‚  â”œâ”€ å‘Šè­¦ä¸è‡ªæ„ˆ
â”‚  â””â”€ æˆæœ¬ï¼š$50k â†’ ç»“æœï¼š$100kèŠ‚çœ/year
â”‚
â”œâ”€ èµ„æºå…±äº«ï¼ˆé™ä½è®¸å¯è¯æˆæœ¬ï¼‰
â”‚  â”œâ”€ ç”¨æˆ·æ± ç®¡ç†
â”‚  â”œâ”€ æƒé™å¤ç”¨
â”‚  â””â”€ æˆæœ¬ï¼šèŠ‚çœ10-20%
â”‚
â””â”€ æ•°æ®æ²»ç†ï¼ˆé™ä½å­˜å‚¨æˆæœ¬ï¼‰
   â”œâ”€ åˆ†å±‚å­˜å‚¨ç­–ç•¥
   â”œâ”€ å®šæœŸæ•°æ®å½’æ¡£
   â””â”€ æˆæœ¬ï¼šèŠ‚çœ20-30%
```

---

## ğŸ“Š æ€»ç»“å¯¹æ¯”è¡¨

| ç»´åº¦ | ä»·å€¼ | æˆæœ¬ | éš¾åº¦ | æ¨è |
|------|------|------|------|------|
| **å°è§„æ¨¡è¯•ç‚¹** | â­â­â­ | $200k | â­ | âœ…é«˜ |
| **éƒ¨é—¨çº§åº”ç”¨** | â­â­â­â­ | $500k-$1M | â­â­ | âœ…ä¸­é«˜ |
| **å…¨å…¬å¸éƒ¨ç½²** | â­â­â­â­â­ | $1-3M | â­â­â­ | â­ä¸­ |
| **AIå¢å¼º** | â­â­â­â­â­ | +$200k | â­â­â­â­ | â­ |

---

y## å…«ã€å®Œæ•´å·¥å…·ç”Ÿæ€æŠ€æœ¯è¦†ç›–

### 8.1 æ•°æ®é›†æˆä¸è½¬æ¢å·¥å…·å®Œå…¨è¦†ç›–

| å·¥å…· | æŠ€æœ¯æ–‡æ¡£ | æ ¸å¿ƒåŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|------|---------|---------|---------|
| **Data Connection** | 03.md | 200+è¿æ¥å™¨ã€Sources/Syncsã€ç›´æ¥/ä»£ç†è¿æ¥ | æ•°æ®æ¥å…¥ï¼ˆæ„é€ åŒ–/éç»“æ„åŒ–/æµå¼/IoT/åœ°ç†ç©ºé—´ï¼‰ |
| **Pipeline Builder** | 02.md | å›¾å½¢åŒ–ç”»å¸ƒã€æ‰¹å¤„ç†/æµå¤„ç†ã€Gitç‰ˆæœ¬æ§åˆ¶ã€AIPè¾…åŠ© | æ— ä»£ç ETLç®¡é“ã€æ•°æ®æ¸…æ´—è½¬æ¢ |
| **SQLè¡¨è¾¾å¼æ¿** | 04.md | Spark SQLã€çª—å£å‡½æ•°ã€å‚æ•°åŒ–åˆ†æã€è¡¨è¾¾å¼åº“ | å¤æ‚æ´¾ç”Ÿåˆ—ã€èšåˆã€é«˜çº§ç»Ÿè®¡ |
| **Code Repositories** | 05.md | Python/PySparkã€@transformè£…é¥°å™¨ã€Gitå·¥ä½œæµ | ç”Ÿäº§çº§æ•°æ®å·¥ç¨‹ã€å¤æ‚é€»è¾‘ |

**å®Œæ•´é“¾è·¯**ï¼šData Connectionï¼ˆæºï¼‰â†’ Pipeline Builderï¼ˆæ¸…æ´—ï¼‰â†’ Ontologyï¼ˆå»ºæ¨¡ï¼‰â†’ åº”ç”¨

### 8.2 åˆ†æå·¥å…·å®Œå…¨è¦†ç›–

| å·¥å…· | æŠ€æœ¯æ–‡æ¡£ | æ ¸å¿ƒåŠŸèƒ½ | ä¼˜åŒ–å¯¹è±¡ |
|------|---------|---------|---------|
| **Contour** | 01.md | è·¯å¾„/å¡æ¿ã€åŸå§‹æ•°æ®åˆ†æã€äº¤äº’ä»ªè¡¨ç›˜ | å¤§è§„æ¨¡æ•°æ®é›†ç›´æ¥åˆ†æ |
| **Quiver** | 10-13.md | æ—¶é—´åºåˆ—ä¼˜åŒ–ã€Visual Functionsã€ä»ªè¡¨æ¿æ¨¡æ¿ | æ—¶åºæ•°æ®ã€å¯¹è±¡é›†åˆ†æ |
| **Code Workspaces** | 07.md | Jupyter/RStudioé›†æˆã€ä»£ç ç‰‡æ®µã€Sync/Build | å¤æ‚ç»Ÿè®¡ã€MLå®éªŒ |
| **Data Lineage** | 06.md | è°±ç³»å›¾ã€ä¸Šä¸‹æ¸¸é’»å–ã€å½±å“åˆ†æã€å®¡è®¡è¿½è¸ª | æ•°æ®æ²»ç†ã€åˆè§„ |

**ä¸“ä¸šåˆ†å·¥**ï¼š
- åŸå§‹æ•°æ® â†’ **Contour**
- å¯¹è±¡/æ—¶åº â†’ **Quiver**
- é«˜çº§ç»Ÿè®¡ â†’ **Code Workspaces**
- æ²»ç†ç›‘æ§ â†’ **Data Lineage**

### 8.3 åº”ç”¨å¼€å‘å·¥å…·å®Œå…¨è¦†ç›–

| å·¥å…· | æŠ€æœ¯æ–‡æ¡£ | æ ¸å¿ƒåŠŸèƒ½ | å¼€å‘æ¨¡å¼ |
|------|---------|---------|---------|
| **Workshop** | 11-12.md | æœ¬ä½“æ„ŸçŸ¥UIã€ç»„ä»¶åº“ã€å˜é‡é©±åŠ¨ã€æ¡ä»¶æ ¼å¼åŒ– | ä½ä»£ç /æ— ä»£ç  |
| **Notepad** | 08.md | åä½œæŠ¥å‘Šã€ç»„ä»¶åµŒå…¥ã€AIPæ–‡æœ¬ä¼˜åŒ–ã€è‡ªåŠ¨åˆ†å‘ | æ–‡æ¡£ç”Ÿæˆã€å†³ç­–åä½œ |
| **Object Explorer** | 09.md | å¯¹è±¡æœç´¢ã€åŠ¨æ€è¿‡æ»¤ã€å¤šç»´é’»å–ã€Actionæ‰§è¡Œ | æœ¬ä½“æµè§ˆã€æ•°æ®æ¢ç´¢ |
| **Slate** | é«˜åº¦å®šåˆ¶ | JavaScript/SQLã€å…¨å®šåˆ¶åŒ–å¼€å‘ | ä¸“ä¸šå‰ç«¯å¼€å‘ |

**åº”ç”¨æ ˆ**ï¼šWorkshop(é€šç”¨) < Notepad(æŠ¥å‘Š) < Slate(å®šåˆ¶)

### 8.4 AIä¸è‡ªåŠ¨åŒ–å·¥å…·å®Œå…¨è¦†ç›–

| ç±»åˆ« | æŠ€æœ¯æ–‡æ¡£ | æ ¸å¿ƒç»„ä»¶ | åº”ç”¨åœºæ™¯ |
|------|---------|---------|---------|
| **RAGæ¡†æ¶** | 14-15ã€18.md | Semantic Searchã€LLM Blockã€åµŒå…¥å±æ€§ | æ£€ç´¢å¢å¼ºç”Ÿæˆã€å®¢æœåŠ©æ‰‹ |
| **AIP Agents** | 19ã€25ã€29-30.md | è§„åˆ™å¼•æ“ã€æ“ä½œå·¥å…·ã€å†…å­˜æœºåˆ¶ã€ä¸Šä¸‹æ–‡ç®¡ç† | è‡ªä¸»å†³ç­–ã€è‡ªåŠ¨åŒ–å·¥ä½œæµ |
| **AIP Logic** | 15ã€26-27ã€31-34.md | å¾ªç¯å¤„ç†ã€å¯¹è±¡æŸ¥è¯¢ã€æœ¬ä½“ç¼–è¾‘ã€å‚æ•°åŒ– | æ‰¹é‡æ“ä½œã€é«˜çº§è‡ªåŠ¨åŒ– |
| **è®¡ç®—æœºè§†è§‰** | 17ã€20ã€23ã€28.md | å›¾åƒåˆ†ç±»ã€å¤šåª’ä½“å¤„ç†ã€PDFæå–ã€è§†è§‰è¯­ä¹‰æœç´¢ | æ–‡æ¡£å¤„ç†ã€å›¾åƒåˆ†æ |
| **MLOps** | 16ã€21-22ã€24.md | æ¨¡å‹éƒ¨ç½²ã€Live MLã€æ¨¡å‹å‘å¸ƒã€è¯„ä¼° | æ¨¡å‹è¿ç»´ã€å®æ—¶æ¨ç† |

**ç«¯åˆ°ç«¯AIå·¥ä½œæµ**ï¼šæ•°æ® â†’ Pipeline(è½¬æ¢) â†’ AIP Logic(å¤„ç†) â†’ Agents(æ‰§è¡Œ) â†’ å†³ç­–åé¦ˆ

### 8.5 ä¼ä¸šåº”ç”¨åœºæ™¯å®Œå…¨è¦†ç›–

| åº”ç”¨åœºæ™¯ | å…³é”®æ–‡æ¡£ | æŠ€æœ¯ç»„åˆ | ä¸šåŠ¡ä»·å€¼ |
|---------|---------|---------|---------|
| **åœ°ç†ç©ºé—´åˆ†æ** | 56.md | Pipeline(åæ ‡è½¬æ¢) + Ontology(Geopoint) + Workshop(åœ°å›¾) | èµ„äº§è¿½è¸ªã€ç§»åŠ¨ç›‘æ§ã€çƒ­åŠ›åˆ†æ |
| **ç«¯åˆ°ç«¯å·¥ä½œæµ** | 57.md + 00.md | æ•°æ®â†’æœ¬ä½“â†’åº”ç”¨â†’æ“ä½œâ†’åé¦ˆ | æ•°å­—å­ªç”Ÿã€æ“ä½œé—­ç¯ã€åé¦ˆä¼˜åŒ– |
| **æ•°å­—å­ªç”Ÿ** | 00.mdã€57.md | Plant201æ¡ˆä¾‹ï¼šå®æ—¶KPIã€å¼‚å¸¸é¢„è­¦ | å·¥å‚ç›‘æ§ã€ç”Ÿäº§ä¼˜åŒ– |
| **è´¨é‡ç®¡ç†** | æœ¬æ–‡æ¡£ç¬¬å››éƒ¨åˆ† | ç¼ºé™·è¿½è¸ªâ†’é£é™©è¯„åˆ†â†’å·¥ä½œåˆ†é… | è´¨é‡æ§åˆ¶ã€é—®é¢˜ç®¡ç† |
| **å†³ç­–åä½œ** | 08.mdã€57.md | Notepad+Workshop+è¯„è®º | å†³ç­–æ–‡æ¡£åŒ–ã€å›¢é˜Ÿåä½œ |

### 8.6 æ–‡æ¡£å®Œå…¨è¦†ç›–è¯æ˜

âœ… **37ä»½æ–‡æ¡£çš„çŸ©é˜µè¦†ç›–**ï¼š

```
æ•°æ®å±‚ï¼ˆ4ä¸ªå·¥å…·ï¼‰
â”œâ”€ 01ä»½åŸºç¡€æ¶æ„ï¼ˆ00.palantir.mdï¼‰
â”œâ”€ 03ä»½è¿æ¥ä¸è½¬æ¢ï¼ˆ03ã€02ã€04.mdï¼‰
â””â”€ 02ä»½ç¼–ç¨‹å¼€å‘ï¼ˆ05ã€07.mdï¼‰

åˆ†æå±‚ï¼ˆ6ä¸ªå·¥å…·ï¼‰
â”œâ”€ 01ä»½å¤§è§„æ¨¡åˆ†æï¼ˆ01.Contour.mdï¼‰
â”œâ”€ 04ä»½æ—¶åºåˆ†æï¼ˆ10-13.Quiver.mdï¼‰
â”œâ”€ 01ä»½IDEç¯å¢ƒï¼ˆ07.Code Workspaces.mdï¼‰
â””â”€ 01ä»½æ•°æ®æ²»ç†ï¼ˆ06.Data Lineage.mdï¼‰

åº”ç”¨å±‚ï¼ˆ4ä¸ªå·¥å…·ï¼‰
â”œâ”€ 01ä»½ä½ä»£ç åº”ç”¨ï¼ˆ11-12.Workshop.mdï¼‰
â”œâ”€ 01ä»½æŠ¥å‘Šä¸åä½œï¼ˆ08.Notepad.mdï¼‰
â”œâ”€ 01ä»½å¯¹è±¡æµè§ˆï¼ˆ09.Object Explorer.mdï¼‰
â””â”€ 01ä»½å®šåˆ¶å¼€å‘ï¼ˆé«˜åº¦å®šåˆ¶ï¼‰

AIä¸è‡ªåŠ¨åŒ–ï¼ˆ19ä¸ªæ–‡æ¡£ï¼‰
â”œâ”€ 02ä»½RAGæ¡†æ¶ï¼ˆ14-15.mdï¼‰
â”œâ”€ 01ä»½ç«¯åˆ°ç«¯RAGï¼ˆ18.mdï¼‰
â”œâ”€ 05ä»½Agentèƒ½åŠ›ï¼ˆ19ã€25ã€29-30.mdï¼‰
â”œâ”€ 10ä»½AIP Logicé«˜çº§åŠŸèƒ½ï¼ˆ23-27ã€31-34.mdï¼‰
â””â”€ 08ä»½è®¡ç®—æœºè§†è§‰/MLOpsï¼ˆ16-17ã€20-22ã€24.mdï¼‰

ä¼ä¸šåº”ç”¨ï¼ˆ4ä¸ªæ–‡æ¡£ï¼‰
â”œâ”€ 01ä»½åœ°ç†ç©ºé—´ï¼ˆ56.mdï¼‰
â”œâ”€ 01ä»½ç«¯åˆ°ç«¯å·¥ä½œæµï¼ˆ57.mdï¼‰
â”œâ”€ æœ¬æ–‡æ¡£ï¼šæŠ€æœ¯åˆ†æã€æœ€ä½³å®è·µ
â””â”€ README.mdï¼šå‘å±•å†å²ã€æ¡ˆä¾‹ã€æŒ‡å—ã€ROI
```

---

## ğŸ“š å‚è€ƒèµ„æº

- [palantirç›®å½•å®Œæ•´æ–‡æ¡£](../palantir/) - 37ä»½æ·±åº¦æŠ€æœ¯æ–‡æ¡£
- [Palantirå®˜æ–¹æ–‡æ¡£](https://www.palantir.com/docs/)
- [æ•°æ®æ¶æ„æœ€ä½³å®è·µ](https://www.palantir.com/impact/)
- [GitHubå·¥ä½œæµå‚è€ƒ](https://github.com/palantir/)

---



