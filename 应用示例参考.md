# Palantir Foundry 快速参考指南

> 针对不同角色的快速查询手册 - 适合日常参考

---

## 🎯 按角色快速导航

### 数据分析师
**常用工具**：Quiver, Contour, Notepad

| 需求 | 工具 | 步骤 | 时间 |
|------|------|------|------|
| 快速分析原始数据 | Contour | 选数据集 → 过滤 → 图表 | 5-10分 |
| 时间序列分析 | Quiver | 对象集 → 聚合 → 可视化 | 10-20分 |
| 生成分析报告 | Notepad | 嵌入组件 → 写文字 → 分享 | 15-30分 |
| 创建可复用计算 | Quiver Visual Function | 建分析 → 选输入输出 → 发布 | 20-30分 |

**常见问题**：
- Q: 如何快速查询？
  A: 使用Contour的SQL表达式板，支持Spark SQL窗口函数

- Q: 分析结果如何保存？
  A: 自动保存，无需手动。修改后Ctrl+S确保保存

- Q: 如何与他人共享分析？
  A: Notepad嵌入图表 → 设置权限 → 分享链接

---

### 数据工程师
**常用工具**：Pipeline Builder, Code Repositories, Data Connection

| 需求 | 工具 | 步骤 |
|------|------|------|
| 构建ETL管道 | Pipeline Builder | 数据源 → 转换 → 发布 |
| 高级转换逻辑 | Code Repositories | Python/PySpark代码 → 装饰器 → 提交PR |
| 连接新数据源 | Data Connection | 创建Source → 配置Sync → 测试 |
| 监控数据质量 | Data Lineage + Job Tracker | 查看血缘 → 监控构建 → 告警 |

**最佳实践**：
- 总是在Feature Branch开发，不直接修改Main
- Pipeline需要单元测试确保逻辑正确
- 使用参数而非硬编码常量
- 为关键Transform添加数据质量检查

**常见问题**：
- Q: Pipeline卡住了怎么办？
  A: 查看Job Tracker详细日志，通常是数据源问题或内存溢出

- Q: 如何测试Pipeline？
  A: 先构建子集数据验证，再全量部署

---

### 应用开发者（低代码）
**常用工具**：Workshop, Ontology Manager

| 需求 | 工具 | 步骤 |
|------|------|------|
| 创建业务应用 | Workshop | 添加组件 → 绑定数据 → 配置Action |
| 定义业务操作 | Ontology Manager | ActionType → 参数定义 → 回写规则 |
| 构建表单 | Workshop | 输入字段 → 验证规则 → 提交Button |
| 条件显示 | Workshop | 可视化条件 → if/then/else逻辑 |

**设计原则**：
- 遵循单一职责：一个应用解决一个业务问题
- 信息架构清晰：用户能快速找到需要的功能
- 反馈及时：操作后立即显示结果

**常见问题**：
- Q: 如何让表格数据与过滤器联动？
  A: 创建ObjectSet变量 → 过滤器更新变量 → 表格绑定变量

- Q: 如何执行复杂业务逻辑？
  A: 在Ontology Manager定义Action，包含验证与后续操作

---

### 业务用户（最终用户）
**常用工具**：Workshop, Object Explorer, Notepad

| 需求 | 操作 | 预期结果 |
|------|------|---------|
| 查看KPI | 打开应用 → 查看卡片 | 实时指标 |
| 查询数据 | 使用过滤器 | 相关数据筛选 |
| 执行操作 | 点Action按钮 | 数据更新 + 后续流程触发 |
| 生成报告 | 点报告按钮 | PDF或Email |

**无需了解的细节**：
- 数据从何来（信任平台）
- 如何计算的（相信结果准确）
- 底层架构（使用即可）

---

## 🔧 常用操作速查表

### 数据查询与分析

#### **场景1：我想快速查看某个数据集的分布**

**真实案例**：零售业务分析师想分析"2024年各门店的销售额分布"

```
详细步骤：

【第1步】进入应用主界面
├─ 登录Palantir Foundry
├─ 点击"Applications" → 选择"Sales Analytics"
└─ 进入应用主界面

【第2步】打开数据分析工具
├─ 点击左侧菜单"Analytics"
├─ 找到"Sales_2024"数据集
└─ 点击"Analyze in Contour" 按钮

【第3步】配置数据可视化
├─ 系统自动打开Contour分析器
├─ 点击"+ Add Board" 添加新卡板
├─ 选择"Chart" 组件类型
│  ├─ 选"Column Chart"（柱状图）
│  └─ 点击"Create"
└─

【第4步】绑定数据维度和指标
├─ X轴（分组维度）：
│  ├─ 点击"Dimension"
│  ├─ 选择"store_id"（门店ID）
│  └─ 系统会在X轴显示所有门店编号
├─ Y轴（度量）：
│  ├─ 点击"Measure"
│  ├─ 选择"total_sales"（销售总额）
│  ├─ 选择聚合函数"SUM"
│  └─ 系统自动计算每个门店的总销售额
└─ 颜色（可选维度）：
   ├─ 点击"Color"
   ├─ 选择"region"（地区）
   └─ 不同地区用不同颜色区分

【第5步】应用过滤器（可选）
├─ 点击"Add Filter"
├─ 选择"order_date"
├─ 设置范围：2024-01-01 到 2024-12-31
└─ 系统自动刷新图表

【第6步】查看结果和导出
├─ 图表显示结果（柱子高度代表销售额大小）
├─ 可选：点击"Save" 保存此分析
├─ 可选：点击"Export" 导出数据或图表
└─ 可选：点击"Share" 分享给团队成员

实际输出示例：
┌─────────────────────────────────────────┐
│ 2024年各门店销售额分布                  │
├─────────────────────────────────────────┤
│ 北区  南区  东区  西区  中心 │ 金额(万元)
│  ▮▮▮  ▮▮   ▮▮▮  ▮    ▮▮▮▮  │ 0-100
│  ▮▮▮  ▮▮   ▮▮▮  ▮    ▮▮▮▮  │
│  ▮▮▮  ▮▮   ▮▮▮  ▮    ▮▮▮▮  │
└─────────────────────────────────────────┘

预期时间：3-5分钟
```

**常见调整**：
- **按月份对比**：改X轴为 month，Y轴仍为sales → 看趋势
- **看客户画像**：X轴改为customer_type，Y轴改为order_count → 看各类客户订单数
- **性能优化**：如数据超过10M行，使用"Apply Filter"预筛选（如只看7月数据）

#### **场景2：我需要对时间序列数据进行高级分析**

**真实案例**：财务分析师需要分析"订单收入的趋势，并计算同环比增长"

```
详细步骤：

【第1步】打开Quiver时序分析应用
├─ 登录系统 → Applications → 选择"Quiver"
├─ 点击"Create New Analysis" 或打开已有分析
└─ 进入Quiver Visual Function编辑界面

【第2步】选择数据源和时间维度
├─ 点击"Data Source" → 选择"Order" 对象类型
├─ 点击"Time Dimension" → 选择"order_date"（订单日期）
├─ 时间粒度选择"Month"（按月聚合）
└─ 系统加载数据并显示时间线

【第3步】添加度量字段和聚合函数
├─ 点击"Add Metric" → 选择"order_amount"（订单金额）
├─ 聚合方式选择"SUM"（总和）
│  └─ 系统会计算每个月的总订单收入
├─ 可选：添加第二个度量"order_count"（订单数）
│  └─ 聚合方式选择"COUNT"
└─ 点击"Apply" 执行聚合查询

【第4步】添加计算式（环比/同比）
├─ 点击"Add Formula" 面板
├─ 计算同比增长率：
│  ├─ 选择"Window Function" 类型
│  ├─ 输入公式：(current_value - previous_year) / previous_year * 100
│  ├─ 设置窗口：LAG(SUM(order_amount), 12)  # 往前推12个月
│  └─ 别名："YoY_Growth"
├─ 计算环比增长率（可选）：
│  ├─ 输入公式：(current_value - previous_month) / previous_month * 100
│  ├─ 设置窗口：LAG(SUM(order_amount), 1)   # 往前推1个月
│  └─ 别名："MoM_Growth"
└─ 点击"OK" 保存公式

【第5步】配置图表可视化
├─ 点击"Visualization" 选项卡
├─ 选择"Line Chart"（折线图）
├─ 配置双轴显示：
│  ├─ 左Y轴（主轴）：显示SUM(order_amount) - 单位：万元
│  ├─ 右Y轴（副轴）：显示YoY_Growth - 单位：百分比
│  ├─ X轴：时间序列（每个月）
│  └─ 图例：显示订单收入线和增长率线
├─ 可选：添加趋势线
│  ├─ 勾选"Show Trend Line"
│  ├─ 选择"Moving Average"（移动平均）
│  └─ 窗口大小：3（3个月移动平均）
└─ 可选：添加预测
   ├─ 勾选"Show Forecast"
   ├─ 预测类型："Linear Regression"
   └─ 预测周期：向后推3个月

【第6步】添加数据表格查看详情
├─ 点击"+ Add Board" 添加表格卡板
├─ 选择"Data Table" 组件
├─ 配置显示列：
│  ├─ 时间: order_month（年-月）
│  ├─ 订单收入: SUM(order_amount)
│  ├─ 订单数: COUNT(*)
│  ├─ 同比增长: YoY_Growth
│  ├─ 环比增长: MoM_Growth
│  └─ 排序：按时间升序
└─ 启用"条件格式化"：
   ├─ 正增长显示绿色（YoY_Growth > 0）
   ├─ 负增长显示红色（YoY_Growth < 0）
   └─ 用箭头或符号指示增减趋势

【第7步】保存和分享分析
├─ 点击"Save as Visual Function"
├─ 输入名称："Monthly_Orders_Analysis_with_YoY"
├─ 点击"Publish" 发布为可复用函数
│  └─ 其他分析师可在分析中直接引用此函数
├─ 点击"Share" 设置权限
│  ├─ 选择"财务团队" 为查看者
│  ├─ 选择"财务主管" 为编辑者
│  └─ 生成分享链接
└─ 点击"Schedule" 配置自动更新（可选）
   ├─ 每月1日自动运行分析
   ├─ 邮件发送最新结果给团队
   └─ 配置完成

实际输出示例：

时间序列分析结果：
┌────────────────────────────────────────────────────────┐
│ 订单收入时序分析（2023-2024）                          │
├────────────────────────────────────────────────────────┤
│
│ 收入(万元)                        增长率(%)
│      100 │                                    50%
│      ┌─┐  ╱╲                               /╲
│       │  ╱  ╲  ╱╲                         /  ╲
│       │ ╱    ╲╱  ╲  ╱╲                   /
│       │╱          ╲╱  ╲   Trend Line   /
│      50│             ╲ ╱╲ ═══════════
│        │              ╲╱  ╲         /
│        │                 ╲ ╱╲     /
│      0 │───────────────────╲╱──────     0%
│        └────────────────────────────────
│         2023  2023   2024  2024  预测
│         Q1    Q4     Q2    Q4    Q1'25

数据表格：
┌──────────┬───────────┬──────────┬──────────┬──────────┐
│ 时间     │ 订单收入  │ 订单数   │ 同比增长 │ 环比增长 │
├──────────┼───────────┼──────────┼──────────┼──────────┤
│ 2024-01  │ $48.2万   │ 2,150   │ +15.3%↑  │ +8.2%↑   │
│ 2024-02  │ $51.8万   │ 2,340   │ +12.8%↑  │ +7.5%↑   │
│ 2024-03  │ $49.5万   │ 2,180   │ -4.2%↓   │ -4.4%↓   │
│ 2024-04  │ $52.1万   │ 2,280   │ +10.5%↑  │ +5.2%↑   │
└──────────┴───────────┴──────────┴──────────┴──────────┘

预期时间：15-30分钟
```

**进阶操作**：
- **添加对比维度**：可以添加region维度，并行查看各地区的时序趋势
- **下钻分析**：点击图表上某个月份 → 自动下钻到该月的周维度 → 继续下钻到日维度
- **异常检测**：启用"Anomaly Detection"功能，系统自动检测异常波动并标记
- **预测告警**：设置告警规则（如预测下月收入<45万则发送告警）

#### **场景3：我需要生成周报告并发送给团队**

**真实案例**：销售经理每周需要生成销售周报，包含KPI、分析和建议

```
详细步骤：

【第1步】创建新的Notepad文档
├─ 登录系统 → Applications → 选择"Notepad"
├─ 点击"Create New Document"
├─ 输入文档名称："Weekly_Sales_Report_W01_2024"
├─ 选择所有者："Sales Management Team"
├─ 设置权限："Sales部门可编辑，其他可查看"
└─ 点击"Create" 进入编辑界面

【第2步】添加文档结构和标题
├─ 编辑文档标题：
│  ├─ 一级标题："# 销售周报 - 2024年第1周"
│  ├─ 添加报告生成日期和时间：
│  │  └─ 二级标题："## 报告时间：2024-01-07  生成者：李四"
│  └─ 添加目录：
│     └─ "## 📋 报告目录\n1. 关键指标汇总\n2. 业绩分析\n3. 地区对标\n4. 风险预警\n5. 建议与行动"
└─ 创建导航链接（文档内跳转）

【第3步】嵌入KPI卡片和关键指标
├─ 点击"Insert" 菜单 → 选择"Components"
├─ 嵌入1：关键指标卡片
│  ├─ 插入"Quiver Component"
│  ├─ 选择已有分析"Weekly_KPI_Cards"
│  ├─ 配置显示内容：
│  │  ├─ 本周订单数: 2,450笔
│  │  ├─ 本周销售额: $123.5万
│  │  ├─ 环比增长: +8.2%
│  │  └─ 同比增长: +15.3%
│  └─ 插入完成
├─ 编写文字说明：
│  └─ "本周销售表现良好，订单数和销售额均实现正增长。其中环比增长8.2%，同比增长15.3%，表明销售势头强劲。"
└─ 添加热力图指示：正增长显示绿色背景

【第4步】添加趋势分析图表
├─ 点击"Insert" → "Components" → "Contour Board"
├─ 嵌入趋势分析图表：
│  ├─ 图表类型：Line Chart（折线图）
│  ├─ X轴：星期（Mon-Sun）
│  ├─ Y轴：日销售额（万元）
│  ├─ 趋势线：显示本周vs上周对比
│  ├─ 预期结果：可视化看到周内销售波动
│  └─ 配置tooltip：鼠标悬停显示具体数据
├─ 编写图表解读：
│  └─ "周二和周五销售额达到高峰，分别为$18.2万和$19.5万。周末销售额下降，需要关注原因。"
└─ 添加建议：
   └─ "建议周末加强促销力度，提高周末销售额。"

【第5步】添加地区对标分析
├─ 点击"Insert" → "Contour Board" 插入表格
├─ 表格内容配置：
│  ├─ 列1：地区（北区、南区、东区、西区、中心）
│  ├─ 列2：本周销售额（万元）
│  ├─ 列3：目标完成度（%）
│  ├─ 列4：环比增长（%）
│  ├─ 列5：排名
│  └─ 条件格式化：
│     ├─ 完成度>100% → 绿色背景
│     ├─ 完成度80-100% → 黄色背景
│     ├─ 完成度<80% → 红色背景
│     └─ 排名1-3位用奖牌符号标记
├─ 表格数据示例：
│  ├─ 北区: $28.5万 | 95% | +12% | 🥈#2
│  ├─ 南区: $31.2万 | 104% | +8% | 🥇#1
│  ├─ 东区: $25.8万 | 86% | -3% | 🥉#3
│  ├─ 西区: $22.1万 | 74% | -5% | #4
│  └─ 中心: $16.9万 | 85% | +2% | #5
└─ 分析文字：
   └─ "南区表现最优，超额完成周度目标。西区和东区需关注，完成度低于90%。"

【第6步】添加风险预警和问题汇总
├─ 创建"问题跟踪"表格：
│  ├─ 问题类型 | 描述 | 严重级别 | 所属地区 | 负责人 | 截止日期
│  ├─ 货品缺货 | 产品A库存不足 | 🔴高 | 北区 | 王五 | 2024-01-10
│  ├─ 交付延迟 | 3个订单超期交付 | 🟡中 | 南区 | 张三 | 2024-01-08
│  └─ 客户投诉 | 产品质量问题 | 🔴高 | 东区 | 李四 | 2024-01-09
└─ 编写风险提示：
   └─ "⚠️ 本周共识别3个问题，其中2个高风险。需要立即采取行动。"

【第7步】添加建议和行动项
├─ 编写"下周行动计划"部分：
│  ├─ 🎯 优先级1（立即处理）：
│  │  ├─ 解决西区货品缺货问题
│  │  ├─ 跟进3个逾期订单的交付
│  │  └─ 负责人：王五、李四
│  ├─ 🎯 优先级2（本周完成）：
│  │  ├─ 提升西区销售团队的销售技巧培训
│  │  ├─ 制定周末促销方案
│  │  └─ 负责人：张三
│  └─ 🎯 优先级3（持续跟进）：
│     ├─ 优化订单处理流程
│     ├─ 建立客户满意度反馈机制
│     └─ 负责人：质量管理部门
└─ 添加执行追踪表：
   ├─ 上周行动项 | 完成状态 | 完成度 | 说明
   ├─ 提升客户应答时间 | ✅已完成 | 100% | 平均应答时间从6h降至4h
   ├─ 优化订单流程 | ⏳进行中 | 60% | 预计周五完成
   └─ 扩展产品线 | ❌未完成 | 0% | 延迟至下月

【第8步】使用AIP优化内容（可选）
├─ 选中某段文字 → 右键点击"Enhance with AIP"
├─ AIP会自动：
│  ├─ 改进句子结构和措辞
│  ├─ 调整语气使其更专业
│  ├─ 增加关键词便于搜索
│  └─ 生成英文翻译版本
├─ 审阅AIP建议 → 接受/拒绝修改
└─ 示例转换：
   ├─ 原文：西区销售不好，需要改进
   └─ AIP优化：西区本周销售额仅完成目标的74%，存在显著不足。建议加强销售团队培训和市场推广。

【第9步】添加附件和参考链接
├─ 点击"Insert Attachment"
├─ 附加相关文件：
│  ├─ 销售数据明细表 (Excel)
│  ├─ 竞争对手分析报告 (PDF)
│  └─ 客户反馈汇总 (Notepad文档链接)
├─ 编写"参考文件"章节：
│  └─ "相关分析和数据可通过以下链接查阅..."
└─ 插入超链接指向其他分析

【第10步】发布、版本控制和分享
├─ 点击"Publish" 按钮
├─ 输入版本号和更新说明：
│  ├─ 版本："v1.0 - Initial Weekly Report"
│  ├─ 更新说明："2024年第1周销售周报，包含KPI、趋势和风险预警"
│  └─ 点击"Publish"
├─ 点击"Share" 设置权限
│  ├─ 添加"Sales Managers"为编辑者
│  ├─ 添加"Sales Team"为查看者
│  ├─ 添加"Executive"为查看者
│  └─ 生成公开分享链接
└─ 点击"Manage Access" 查看谁访问了此报告

【第11步】配置自动生成和发送（可选但推荐）
├─ 点击"Automate" 菜单
├─ 创建自动化任务：
│  ├─ 触发条件："每个星期日晚上8点"
│  ├─ 动作1："运行所有嵌入的分析并更新数据"
│  ├─ 动作2："发送邮件给Sales Managers"
│  │  ├─ 收件人：所有销售经理
│  │  ├─ 主题："[周报] 销售周报 - {当前周数}"
│  │  ├─ 邮件正文：
│  │  │  ├─ "亲爱的销售团队，\n"
│  │  │  ├─ "本周销售周报已生成，详见附件。\n"
│  │  │  ├─ "关键指标：...\n"
│  │  │  └─ "请及时查阅并采取行动。"
│  │  ├─ 附件：本周报告PDF
│  │  └─ 邮件格式：HTML（保持美观）
│  └─ 动作3："发送Slack通知"（可选）
│     ├─ 频道："#sales-weekly-report"
│     ├─ 消息："📊 本周销售周报已发布！KPI亮点：...\n访问链接：{报告链接}"
│     └─ 按钮："查看详情"
├─ 点击"Save Schedule" 保存自动化规则
└─ 验证设置是否正确后激活

【第12步】后续使用和演化
├─ 每周重复使用此模板：
│  ├─ 点击"Duplicate" 创建下周报告副本
│  ├─ 更新标题和日期
│  ├─ 数据自动刷新
│  └─ 仅需添加新的分析和见解
├─ 收集反馈：
│  └─ 在报告下方添加评论区，邀请读者反馈
├─ 版本演化：
│  └─ 根据反馈持续优化报告结构和内容
└─ 建立最佳实践：
   └─ "文档历史"显示报告演变过程

实际输出示例（Notepad截图效果）：

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 销售周报 - 2024年第1周
═════════════════════════════════════════
报告时间：2024-01-07  生成者：李四

📋 报告目录
1. 关键指标汇总
2. 业绩分析
3. 地区对标
4. 风险预警
5. 建议与行动

───────────────────────────────────────
🎯 关键指标汇总
┌──────────────┬─────────┬──────────┐
│  指标        │  本周   │  环比    │
├──────────────┼─────────┼──────────┤
│  订单数      │ 2,450笔 │ +8.2%↑  │
│  销售额      │$123.5万 │ +8.2%↑  │
│  客户满意    │ 4.6/5   │ +0.2↑   │
│  交付及时率  │ 96.5%   │ +2.1%↑  │
└──────────────┴─────────┴──────────┘

本周销售表现良好，各项指标均实现正增长。其中环比
增长8.2%，同比增长15.3%，表明销售势头强劲。

───────────────────────────────────────
📈 趋势分析

日销售额趋势（万元）
      ▮▮
      ▮▮  ▮▮    ▮▮      ▮▮ ▮▮
    ▮▮▮ ▮▮▮ ▮▮ ▮▮ ▮▮ ▮▮ ▮▮▮▮
    ─────────────────────────────
    一  二  三  四  五  六  日

周二和周五销售额达到高峰。周末销售额下降。

───────────────────────────────────────
📍 地区对标
┌──────┬─────────┬─────────┬──────┬─────┐
│ 地区 │ 销售额  │ 完成度  │ 增长 │排名 │
├──────┼─────────┼─────────┼──────┼─────┤
│ 南区 │$31.2万  │ 104%🟢  │ +8%  │🥇#1 │
│ 北区 │$28.5万  │  95%🟡  │+12%  │🥈#2 │
│ 东区 │$25.8万  │  86%🟡  │ -3%  │🥉#3 │
│ 西区 │$22.1万  │  74%🔴  │ -5%  │ #4  │
│ 中心 │$16.9万  │  85%🟡  │ +2%  │ #5  │
└──────┴─────────┴─────────┴──────┴─────┘

南区表现最优，超额完成周度目标。西区完成度低于
90%，需关注。

───────────────────────────────────────
⚠️ 风险预警（本周3个问题）

🔴 高风险
  • 产品A库存不足（北区）- 王五负责 - 截止1.10
  • 产品质量问题投诉（东区）- 李四负责 - 截止1.9

🟡 中风险
  • 3个订单超期交付（南区）- 张三负责 - 截止1.8

───────────────────────────────────────
📋 下周行动计划

优先级1 ⚡ (立即处理)：
  ✓ 解决西区货品缺货问题
  ✓ 跟进3个逾期订单交付
  负责人：王五、李四

优先级2 🎯 (本周完成)：
  ✓ 西区销售团队培训
  ✓ 制定周末促销方案
  负责人：张三

执行追踪：
  ✅ 提升客户应答时间 [完成] 100%
  ⏳ 优化订单流程 [进行中] 60%

预期时间：20-40分钟（首次）
```

**进阶技巧**：
- **动态数据刷新**：所有嵌入图表自动与源数据同步，报告永远最新
- **版本对比**：比较上周报告，自动标记变化
- **评论和批注**：读者可以在报告上添加评论，协作讨论
- **导出功能**：一键导出为PDF、PPT或Excel供线下使用
- **多语言支持**：自动生成英文版本供国际团队查看

---

### 应用操作

#### **场景1：我想基于筛选条件执行批量操作**

**真实案例**：订单管理员需要"将所有待分配的高优先级订单批量分配给相应的销售代表"

```
详细步骤：

【第1步】打开Workshop应用并选择订单管理应用
├─ 登录系统 → Applications → 选择"Order Management"
├─ 进入订单列表页面（默认显示所有订单）
└─ 系统加载约50k条订单记录

【第2步】应用过滤器精准定位目标订单
├─ 【过滤器1】订单状态过滤
│  ├─ 点击"Status"过滤器 → 选择"Pending"（待处理）
│  ├─ 系统自动筛选，表格更新为2,450条待处理订单
│  └─ 实时显示："2,450 records"
├─ 【过滤器2】优先级过滤
│  ├─ 点击"Priority"过滤器 → 选择"HIGH"（高优先级）
│  ├─ 系统进一步筛选，表格更新为450条高优先级待处理订单
│  └─ 实时显示："450 records"
├─ 【过滤器3】时间过滤（可选）
│  ├─ 点击"Created Date"过滤器
│  ├─ 设置范围："2024-01-01 至 2024-01-07"（仅本周新增）
│  ├─ 系统进一步筛选，表格更新为180条
│  └─ 显示筛选结果："180 High Priority Orders Created This Week"
├─ 【过滤器4】分配状态过滤
│  ├─ 点击"Assigned To"过滤器
│  ├─ 选择"Unassigned"（未分配）
│  ├─ 系统最终筛选，确保只看未分配的订单
│  └─ 最终结果："145 records"
└─ 全部过滤器已应用，清单显示完整的过滤条件

【第3步】在表格中查看筛选结果并预览
├─ 表格显示145条订单，包含以下列：
│  ├─ 列1：☐ 复选框（用于多选）
│  ├─ 列2：订单号（如ORD-2024-001）
│  ├─ 列3：客户名称（自动链接到客户详情）
│  ├─ 列4：订单金额（条件格式：金额越大颜色越深）
│  ├─ 列5：优先级（HIGH显示为红色，MEDIUM为橙色等）
│  ├─ 列6：创建时间（相对时间：如"2天前"）
│  ├─ 列7：所在地区（北区、南区等）
│  └─ 列8：操作（行级按钮）
├─ 预览数据示例：
│  ├─ ☐ ORD-2024-0145 | ACME Corp | $45,200 | 🔴HIGH | 1小时前 | 南区
│  ├─ ☐ ORD-2024-0146 | Tech Inc  | $32,500 | 🔴HIGH | 2小时前 | 北区
│  ├─ ☐ ORD-2024-0147 | Global Ltd| $28,900 | 🔴HIGH | 3小时前 | 东区
│  └─ ...（共145条）
└─ 系统提示："145个订单可用于批量操作"

【第4步】全选或部分选择目标订单
├─ 方式1：全选所有筛选结果
│  ├─ 点击表格头部的"☐"复选框（全选按钮）
│  ├─ 系统自动选中所有145条订单
│  ├─ 表格顶部显示："✓ 145 items selected"
│  ├─ 页面顶部出现操作条，显示"批量操作"按钮组
│  └─ 系统提示："已选择145个订单，可执行批量操作"
├─ 方式2：按条件智能选择
│  ├─ 点击"条件选择"按钮
│  ├─ 设置条件："金额>$30,000"
│  ├─ 系统计算并选中符合条件的57条订单
│  └─ 页面提示："基于条件'金额>30K'选中57个订单"
├─ 方式3：手动逐个选择
│  ├─ 点击单个订单前的复选框
│  ├─ 可按Ctrl+Click多选或Shift+Click范围选择
│  ├─ 表格顶部实时更新选择计数
│  └─ 如需取消，点击相同复选框或点击"Clear Selection"
└─ 本例操作：点击全选按钮，选中所有145条订单

【第5步】点击批量操作按钮并选择操作类型
├─ 系统自动显示"Bulk Actions"菜单栏
├─ 可用的批量操作选项：
│  ├─ 🔘 分配（Assign）→ 分配给销售代表
│  ├─ 🔘 升级（Escalate）→ 提升优先级
│  ├─ 🔘 标记（Tag）→ 添加标签
│  ├─ 🔘 更新字段（Update Fields）→ 修改多个字段
│  ├─ 🔘 取消（Cancel）→ 取消订单（需管理员确认）
│  └─ 🔘 导出（Export）→ 导出为Excel
├─ 本例操作：点击"Assign"（分配）按钮
└─ 系统打开"批量分配"对话框

【第6步】在批量操作对话框中填写参数
├─ 对话框标题："Bulk Assign Orders"
├─ 参数字段1：分配方式选择
│  ├─ 选项A："手动选择单个代表"
│  │  ├─ 选择销售代表：下拉菜单显示所有可用代表
│  │  ├─ 系统显示代表信息：名字、当前工作量、地区
│  │  ├─ 推荐方案：系统计算工作负载最轻的代表
│  │  └─ 本例选择：李四（南区，当前工作量：42/50）
│  └─ 选项B："按地区自动分配"
│     ├─ 系统自动将北区订单分配给北区代表
│     ├─ 南区订单分配给南区代表，以此类推
│     └─ 更高效的分配方式
├─ 参数字段2：分配备注（可选）
│  ├─ 输入文本框："请于今日下午处理，客户级别为VIP"
│  └─ 备注会保存在订单记录中，供销售代表参考
├─ 参数字段3：发送通知（选项）
│  ├─ ☑ 发送邮件通知销售代表
│  ├─ ☑ 发送Slack消息到#sales频道
│  └─ ☑ 在应用中发送消息
├─ 预览分配结果：
│  ├─ 表格显示：将要分配给李四的订单45条，给张三的55条，给王五的45条等
│  └─ 系统自动计算和显示分配分布
└─ 点击"Preview"按钮预览分配结果

【第7步】确认并执行批量操作
├─ 预览界面显示详细信息：
│  ├─ 操作摘要："将分配145个订单给5个销售代表"
│  ├─ 分配明细：
│  │  ├─ 李四（南区）：45个订单
│  │  ├─ 张三（北区）：35个订单
│  │  ├─ 王五（东区）：30个订单
│  │  ├─ 赵六（西区）：25个订单
│  │  └─ 刘七（中心）：10个订单
│  └─ 预计完成时间：2-3秒
├─ 安全确认：
│  ├─ 系统提示："此操作将影响145个订单，请确认"
│  ├─ 用户点击"Confirm"确认
│  └─ 输入个人密码进行二次确认（安全性考虑）
├─ 点击"Execute"按钮执行操作
└─ 系统显示进度条："Processing... 50/145"

【第8步】操作完成并查看结果
├─ 系统显示成功提示：
│  ├─ ✅ "Successfully assigned 145 orders"
│  ├─ 操作完成时间：4秒
│  └─ 受影响的销售代表：5人
├─ 自动化操作结果：
│  ├─ ✓ 145条订单状态已更新为"Assigned"
│  ├─ ✓ 每条订单的"Assigned To"字段已填充销售代表名字
│  ├─ ✓ 审计日志已记录：操作人、操作时间、操作内容
│  ├─ ✓ 邮件已发送给5位销售代表（包含分配列表）
│  ├─ ✓ Slack消息已发送到#sales频道
│  └─ ✓ 应用内通知已发送
├─ 表格自动刷新：
│  ├─ 之前的145条"Pending"订单消失
│  ├─ 表格重新显示"Empty - All Pending Orders Have Been Assigned"
│  ├─ 或自动应用下一个过滤器显示其他订单
│  └─ 表格更新耗时<1秒
└─ 操作日志可查看：
   ├─ 点击"View Activity Log"查看详细记录
   ├─ 显示："145 orders assigned to 5 representatives by Admin (李四) on 2024-01-07 14:32:10"
   └─ 可下载操作报告用于合规审计

【第9步】验证结果并跟进
├─ 验证方式1：在表格中验证
│  ├─ 清除所有过滤器
│  ├─ 应用新过滤器："Assigned To = 李四"
│  ├─ 系统显示李四现有订单（包括刚分配的45条）
│  └─ 确认分配成功
├─ 验证方式2：查看销售代表的应用
│  ├─ 切换用户账户到"李四"
│  ├─ 打开"My Orders"视图
│  ├─ 系统显示新分配的45个订单
│  ├─ 可看到分配时间和备注
│  └─ 验证完整
├─ 验证方式3：检查通知
│  ├─ 销售代表收到邮件通知
│  ├─ Slack频道显示公告："45 new orders assigned to 李四"
│  └─ 应用内有未读通知
└─ 完成！批量操作已成功执行

实际输出示例：

操作前表格状态：
┌──────────────┬───────────┬──────┬──────────┬──────┐
│ ☐ 订单号     │ 客户      │金额  │优先级   │地区  │
├──────────────┼───────────┼──────┼──────────┼──────┤
│ ☐ ORD-000123 │ ACME Corp │$45K  │🔴HIGH   │南区  │
│ ☐ ORD-000124 │ Tech Inc  │$32K  │🔴HIGH   │北区  │
└──────────────┴───────────┴──────┴──────────┴──────┘

选择后状态：
✅ 145 items selected
[Assign] [Escalate] [Tag] [Export] ...

操作完成后：
✅ Successfully assigned 145 orders to 5 representatives in 4 seconds

预期时间：2-5分钟
```

**批量操作扩展用例**：
- **批量取消订单**：选中所有"超期未处理"的订单 → 批量取消 → 自动计算退款
- **批量更新价格**：按产品分类批量调价 → 系统自动重新计算订单总额
- **批量导出**：导出为Excel → 包含所有选中订单的完整信息 → 支持离线编辑后重新导入

---

#### **场景2：我想查看某个对象的完整信息及历史**

**真实案例**：客户服务代表需要"查看某个客户的完整档案，包括订单历史、投诉记录和交互日志"

```
详细步骤：

【第1步】打开Object Explorer对象浏览器
├─ 登录系统 → 点击"Object Explorer"（通常在导航栏顶部）
├─ 或从任何应用中点击"Explore Objects"链接
└─ 进入全局对象搜索界面

【第2步】搜索目标对象
├─ 搜索框输入客户标识符
│  ├─ 输入方式1：客户ID："CUST-2024-0001"
│  │  └─ 系统查找对应客户
│  ├─ 输入方式2：客户名称："ACME Corporation"
│  │  └─ 系统进行模糊匹配
│  ├─ 输入方式3：电话/邮箱："john@acme.com"
│  │  └─ 系统反向查询对应客户
│  └─ 实时搜索建议显示相关结果
├─ 本例操作：输入"CUST-2024-0001"
└─ 系统显示匹配结果，点击第一条进入

【第3步】打开对象详情视图（Object View）
├─ 系统加载对象详情页面
├─ 页面顶部显示对象标识和基本信息：
│  ├─ 对象类型标签："Customer"（蓝色）
│  ├─ 对象标题："ACME Corporation"
│  ├─ 对象ID："CUST-2024-0001"
│  ├─ 创建时间："2023-06-15 10:30"
│  ├─ 最后更新："2024-01-06 16:45"
│  └─ 对象状态徽章："Active"（绿色）
├─ 导航标签页（Tab）：
│  ├─ 📋 Overview（概览）- 当前选中
│  ├─ 📊 Related Objects（关联对象）
│  ├─ 📜 Audit Trail（审计日志）
│  ├─ 💬 Comments（评论）
│  └─ ⚙️ Settings（设置）
└─ 页面结构已准备好

【第4步】查看Overview标签页（基本信息）
├─ 【第一部分】客户基本信息
│  ├─ 公司名称：ACME Corporation
│  ├─ 行业：Technology / Software
│  ├─ 规模：Large Enterprise (>5000 employees)
│  ├─ 国家：United States
│  ├─ 主要联系人：John Smith (CEO)
│  ├─ 电话：+1-555-0123
│  ├─ 邮箱：john@acme.com
│  ├─ 官网：https://www.acme.com
│  └─ 年收入：$2.5B
├─ 【第二部分】业务关键指标
│  ├─ 总订单数：248笔
│  ├─ 总消费金额：$2,450,000
│  ├─ 平均订单值：$9,876
│  ├─ 客户级别：🥇 VIP Gold
│  ├─ 订单完成率：98.2%
│  ├─ 平均交付天数：3.5天
│  ├─ 投诉数量：1次（已解决）
│  ├─ 信用评级：A+ (Excellent)
│  └─ 最后订单日期：2024-01-05
├─ 【第三部分】自定义字段
│  ├─ 行业分类：Tech Sector
│  ├─ 合同期限：至 2024-12-31
│  ├─ 账户经理：李四
│  ├─ 销售地区：北美区
│  └─ 优先支持级别：Premium
└─ 通过下拉/展开查看更多字段

【第5步】点击"Related Objects"标签页查看关联对象
├─ 系统显示该客户相关的所有对象类型：
│  ├─ 📦 Orders（订单）
│  │  ├─ 数量：248个订单
│  │  ├─ 快速视图：最近5个订单列表
│  │  │  ├─ ORD-2024-0456 | $15,200 | Shipped | 1天前
│  │  │  ├─ ORD-2024-0445 | $8,900  | Processing | 3天前
│  │  │  ├─ ORD-2024-0434 | $12,500 | Delivered | 1周前
│  │  │  └─ ... 更多订单
│  │  └─ 点击"View All Orders"查看完整列表
│  │
│  ├─ 👥 Contacts（联系人）
│  │  ├─ 数量：12个联系人
│  │  ├─ 列表：
│  │  │  ├─ John Smith (CEO) - john@acme.com - 主要
│  │  │  ├─ Jane Doe (CFO) - jane@acme.com
│  │  │  ├─ Mike Johnson (Procurement Manager) - mike@acme.com
│  │  │  └─ ... 更多联系人
│  │  └─ 点击某联系人查看详情或发送邮件
│  │
│  ├─ 🎯 Opportunities（商机）
│  │  ├─ 数量：5个活跃商机
│  │  ├─ 金额：$500,000（总价值）
│  │  └─ 列表：Enterprise Package Renewal, New Product Pilot 等
│  │
│  ├─ 📋 Contracts（合同）
│  │  ├─ 数量：3份有效合同
│  │  ├─ 最新合同到期：2024-12-31
│  │  └─ 快速链接：查看合同详情
│  │
│  ├─ ❌ Complaints（投诉）
│  │  ├─ 数量：1个（已解决）
│  │  ├─ 内容：Shipment delayed by 2 days
│  │  ├─ 状态：Resolved on 2023-11-20
│  │  └─ 点击查看详情和处理记录
│  │
│  └─ 📞 Interactions（交互记录）
│     ├─ 数量：45条交互记录
│     ├─ 最近交互：2024-01-06 16:45
│     └─ 类型：Email, Call, Meeting, Support Ticket等
│
├─ 每个关联对象都是可点击的超链接
│  └─ 点击可跳转到该对象的详情页面
└─ 完整的对象关系图已显示

【第6步】点击"Audit Trail"标签页查看历史记录
├─ 系统显示该对象的完整审计日志
├─ 时间轴视图：按时间倒序显示所有变更
│  ├─ 2024-01-06 16:45 | 李四 | 修改字段"Account Manager"
│  │  └─ From: 王五 → To: 李四
│  ├─ 2024-01-05 10:20 | 系统 | 创建相关对象
│  │  └─ 新订单 ORD-2024-0456 创建
│  ├─ 2024-01-04 14:15 | 张三 | 修改字段"Customer Status"
│  │  └─ From: Standard → To: VIP Gold
│  ├─ 2024-01-02 09:30 | 赵六 | 创建备注/评论
│  │  └─ "Customer confirmed expansion plan, expecting 20% growth"
│  ├─ 2023-11-20 18:00 | 系统 | 自动更新
│  │  └─ "投诉 COMP-001 标记为 Resolved"
│  ├─ 2023-10-15 11:45 | 李四 | 批量操作
│  │  └─ "发送季度报告邮件给所有VIP客户"
│  ├─ 2023-06-15 10:30 | 初始化系统 | 对象创建
│  │  └─ "新客户 ACME Corporation 在系统中创建"
│  └─ ... 更早的历史记录
│
├─ 每条记录显示：
│  ├─ 时间戳（精确到秒）
│  ├─ 操作人（用户名，可点击查看用户信息）
│  ├─ 操作类型（Create, Modify, Delete, Execute, etc.）
│  ├─ 具体变更内容
│  ├─ 若是批量操作，显示"View All Changes"以查看详情
│  └─ 若有附件/截图，显示预览
│
├─ 高级过滤：
│  ├─ 按操作类型过滤："Show only modifications"
│  ├─ 按时间范围过滤："Last 30 days", "Custom date range"
│  ├─ 按操作人过滤："Show changes by 李四"
│  └─ 搜索关键词："Search in audit log"
│
└─ 审计日志导出：
   ├─ 点击"Export"按钮
   ├─ 选择格式：CSV/PDF/Excel
   └─ 用于合规报告或邮件发送

【第7步】点击"Comments"标签页查看沟通记录
├─ 系统显示所有与此对象相关的评论和讨论
├─ 评论列表：
│  ├─ 2024-01-06 17:20 | 李四
│  │  ├─ 📝 "已确认客户愿意参加下月的行业论坛"
│  │  ├─ 💬 3条回复 | ❤️ 2个赞
│  │  └─ 操作：Reply, Edit, Delete
│  ├─ 2024-01-05 14:30 | 张三
│  │  ├─ 📎 "已上传季度业绩评估报告"
│  │  ├─ 附件：Q4_2023_Performance_Review.pdf (2.3MB)
│  │  ├─ 💬 5条回复 | ❤️ 7个赞
│  │  └─ 可下载附件
│  ├─ 2024-01-02 09:45 | 王五 (标记为Resolved❌)
│  │  ├─ 📝 "客户投诉订单延迟，已联系物流公司跟进"
│  │  ├─ 💬 8条回复 | ❤️ 4个赞
│  │  ├─ 状态标签："Resolved" (绿色)
│  │  └─ 操作：Reopen, Pin to top
│  └─ ... 更早的评论
│
├─ 评论功能：
│  ├─ 在文本框输入新评论
│  ├─ 支持@提及团队成员："@李四 please check this"
│  ├─ 支持附件上传（文件、图片、截图）
│  ├─ 支持表情、链接和格式化文本
│  ├─ 发布评论 → 自动通知相关人员
│  └─ 评论支持点赞、回复、编辑、删除
│
└─ 评论可作为团队协作的记录

【第8步】查看或执行可用的Action操作
├─ 页面右侧"Actions"菜单
├─ 可用操作：
│  ├─ 📧 Send Email（发送邮件）
│  │  ├─ 预填充客户邮箱
│  │  ├─ 模板选择：Quarterly Report, Product Recommendation等
│  │  └─ 点击执行
│  ├─ 📞 Log Call（记录通话）
│  │  ├─ 输入通话内容和时长
│  │  ├─ 自动保存为交互记录
│  │  └─ 关联到对象
│  ├─ 📅 Schedule Meeting（安排会议）
│  │  ├─ 集成日历
│  │  ├─ 邀请相关联系人
│  │  └─ 自动添加日程
│  ├─ 🎁 Create Opportunity（创建商机）
│  │  ├─ 创建新销售机会
│  │  ├─ 自动与此客户关联
│  │  └─ 设置金额和阶段
│  ├─ 📋 Create Order（创建订单）
│  │  ├─ 快速创建订单
│  │  ├─ 自动填充客户信息
│  │  └─ 预填充默认配置
│  ├─ 🔗 Link Objects（链接对象）
│  │  ├─ 将此客户链接到其他对象
│  │  └─ 如将其链接到某个项目
│  └─ ✏️ Edit（编辑）
│     ├─ 进入编辑模式修改对象属性
│     ├─ 修改后自动保存
│     └─ 更新记录在Audit Trail中
│
└─ 根据权限，某些操作可能不可用

【第9步】综合分析获得完整视图
├─ 整合所有信息形成客户全景图：
│  ├─ 基本信息：公司规模、业务方向
│  ├─ 交易历史：248个订单，$2.45M累计消费
│  ├─ 关键人物：12个联系人，已建立良好关系
│  ├─ 当前状态：VIP Gold级别，A+信用评级
│  ├─ 未来机会：5个活跃商机，预期$500K
│  ├─ 风险识别：1次投诉（已解决），信誉良好
│  ├─ 近期活动：最后订单1天前，账户经理最近更新
│  ├─ 合作历程：从创建（2023-06）至今历时7个月
│  └─ 建议行动：主动联系以增加商机
│
└─ 基于完整信息做出业务决策

实际输出示例（Object View界面）：

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🏢 ACME Corporation (CUST-2024-0001)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Overview] [Related Objects] [Audit Trail] [Comments] [Settings]

📋 基本信息
├─ 行业：Technology / Software
├─ 规模：Large Enterprise (>5000 employees)
├─ 级别：🥇 VIP Gold
├─ 状态：✅ Active
└─ 信用评级：A+ (Excellent)

💰 业务指标
├─ 总订单数：248 | 总消费：$2.45M | 平均订单值：$9,876
├─ 完成率：98.2% | 交付周期：3.5天 | 投诉数：1 (已解决)
└─ 最后订单：2024-01-05 | 账户经理：李四

🔗 关联对象
├─ 📦 Orders：248个
├─ 👥 Contacts：12个
├─ 🎯 Opportunities：5个 ($500K)
├─ 📋 Contracts：3份
├─ ❌ Complaints：1个 (已解决)
└─ 📞 Interactions：45条

📜 最近更新
├─ 2024-01-06 16:45 | 李四 | 修改 Account Manager
├─ 2024-01-05 10:20 | 系统 | 创建订单 ORD-2024-0456
└─ 2024-01-04 14:15 | 张三 | 客户升级为 VIP Gold

⚙️ 快捷操作
[📧 Send Email] [📞 Log Call] [📅 Schedule Meeting]
[🎁 Create Opportunity] [📋 Create Order] [✏️ Edit]

预期时间：1-3分钟
```

**Advanced Features**：
- **对象版本对比**：比较不同时间点的对象状态，自动高亮变化
- **关系图可视化**：点击可视化客户与订单、联系人、合同的关联关系
- **快速操作面板**：右滑打开常用操作，无需离开当前页面
- **导出对象**：导出完整对象数据为PDF/Excel用于报告或存档

---

### 数据管理

#### **场景1：我需要接入一个新的数据源**
```
步骤（数据工程师）：
1. Data Connection → 创建Source
2. 选择连接类型（REST/Database/Agent等）
3. 填入认证信息（从密钥管理器获取）
4. 配置Sync规则（快照/增量/流式）
5. 测试连接 → 部署

预期时间：30分钟-2小时
```

#### **场景2：我需要验证数据质量**
```
步骤：
1. Data Lineage → 选择数据集
2. 查看来源、转换历史、健康状态
3. 点击"Data Health Checks" → 查看异常
4. 如有问题 → 创建Issue分派给团队

预期时间：5-10分钟
```

---

## 📊 工具选择速查表

### 选择分析工具

```
             是否原始数据？
            /            \
          YES             NO
           /               \
    是否需要SQL表达式？    是否时间序列优化？
    /                /         \
  YES             NO           YES    NO
   |              |             |     |
CONTOUR      CONTOUR          QUIVER CONTOUR
SQL板         点选模式        或Quiver 点选
                             + Dashboard
```

### 选择应用工具

```
             应用复杂度
            /         \
          低          高
          |            |
    是否需要      是否需要
    本体操作？    高定制化？
    /      \     /       \
   YES     NO  YES       NO
    |      |   |         |
Workshop Contour Slate  Workshop
          仪表板
```

---

## ⚡ 性能优化速查表

| 问题 | 症状 | 解决方案 | 预期效果 |
|------|------|---------|---------|
| 查询慢 | 加载>5s | 添加过滤器缩小数据量 | 减少50-80% |
| 查询慢 | 加载>5s | 使用参数化仪表盘 | 缓存结果 |
| 应用卡顿 | UI响应延迟 | 使用延迟加载（分页） | 立即可交互 |
| 内存溢出 | Pipeline失败 | 添加过滤器减少数据量 | 完成处理 |
| 成本高 | 每月账单$10k+ | 实施数据分层策略 | 节省30% |

---

## 🚀 快速起步路线图

### 第1周：基础概念
- [ ] 理解三层架构（数据层、本体层、应用层）
- [ ] 浏览现有应用（学习设计模式）
- [ ] 完成"Hello World"分析（在Contour中）

### 第2周：数据集成
- [ ] 配置Data Connection连接一个新源
- [ ] 在Pipeline Builder中做简单转换
- [ ] 验证输出数据质量

### 第3周：应用开发
- [ ] 在本体中创建简单对象类型
- [ ] 在Workshop中构建基础应用（表+过滤器）
- [ ] 添加一个简单Action

### 第4周：高级功能
- [ ] 创建Visual Function进行复杂计算
- [ ] 构建Notepad报告
- [ ] 配置自动分发

### 第5周+：深化应用
- [ ] 集成AIP（AI功能）
- [ ] 优化性能（缓存、索引）
- [ ] 扩展到新部门

---

## 🎓 学习资源

### 官方资源
- Palantir Academy（在线课程）
- Palantir Community（论坛）
- Internal Documentation（内部wiki）

### 推荐学习路径
1. **基础** → 官方入门教程（2-3小时）
2. **实战** → 构建小项目（1-2周）
3. **进阶** → 深度主题培训（3-5天）
4. **精通** → 复杂场景设计（持续）

### 重点掌握的技能
| 级别 | 必学 | 推荐 | 可选 |
|------|------|------|------|
| 初级 | Contour基础 | Workshop基础 | Notepad |
| 中级 | Pipeline Builder | Workshop高级 | Code Workspaces |
| 高级 | 本体设计 | Code Repositories | AIP Logic |

---

## 🆘 故障排查

### 应用无法加载
```
检查清单：
[ ] 是否有对象查看权限？（权限检查）
[ ] 对象是否有数据？（查看源数据集）
[ ] Pipeline是否运行失败？（查看Job Tracker）
[ ] 浏览器缓存清除？（Ctrl+Shift+Del）
```

### 数据查询超时
```
检查清单：
[ ] 数据量是否过大？（>100M行）→ 添加过滤器
[ ] Join是否过多？→ 简化查询
[ ] 是否使用了复杂表达式？ → 使用预聚合
[ ] 是否其他用户在占用资源？ → 询问管理员
```

### Action执行失败
```
检查清单：
[ ] 是否有执行权限？（权限检查）
[ ] 是否参数填写错误？（检查参数）
[ ] 是否对象状态不允许操作？（查看对象状态）
[ ] Action定义是否正确？（查看Action配置）
```

### 权限问题
```
检查清单：
[ ] 用户是否在correct group中？
[ ] 对象/属性是否有权限？
[ ] 是否需要申请权限？（向管理员申请）
[ ] 权限是否已刷新？（重新登录）
```

---

## 📞 获取帮助

### 内部支持
- **Slack频道**：#palantir-support
- **邮件**：palantir-team@company.com
- **Wiki**：internal-docs.company.com/palantir

### 外部支持
- **Palantir Support Portal**：支持票系统
- **社区论坛**：Palantir Community
- **培训服务**：Palantir Professional Services

### 提问模板
```
问题标题：[简明扼要]

症状描述：
- 操作步骤
- 预期结果
- 实际结果
- 错误信息

环境信息：
- 使用工具（如Workshop）
- 数据集名称
- 用户角色
- 浏览器版本

已尝试方案：
- [ ] 清除浏览器缓存
- [ ] 重新登录
- [ ] 查看文档

预期解决时间：[紧急/普通/可延迟]
```

---

## 📈 关键指标监控

### 应该定期检查的指标

| 指标 | 正常范围 | 警告值 | 严重值 |
|------|---------|--------|--------|
| Pipeline成功率 | >99% | 95-99% | <95% |
| 查询响应时间 | <1s | 1-5s | >5s |
| 数据新鲜度 | <1h | 1-6h | >6h |
| 应用可用性 | >99.5% | 95-99.5% | <95% |
| 用户活跃度 | >80% | 50-80% | <50% |
| 存储使用率 | <70% | 70-85% | >85% |

---

## ✅ 最佳实践清单

- [ ] 定期备份重要配置
- [ ] 使用版本控制管理Pipeline代码
- [ ] 为关键对象配置条件格式化
- [ ] 实施数据分层策略降低成本
- [ ] 定期审查权限确保安全
- [ ] 监控数据质量问题
- [ ] 文档化关键应用逻辑
- [ ] 定期进行灾备演练
- [ ] 收集用户反馈持续改进
- [ ] 建立知识共享机制

---

## 📚 完整工具使用映射 - palantir文档对照

### 数据工程师必读指南

#### **工具1：Data Connection（03.md）**
- **核心能力**：200+企业连接器、多模态数据接入
- **应用场景**：从Snowflake、S3、SAP、ERP等系统导入数据
- **实际操作**：
  ```
  步骤1：Data Connection → 创建Source（如Snowflake）
  步骤2：配置Sync规则（快照/增量/流式）
  步骤3：设置安全权限（谁可访问）
  步骤4：监控同步状态（Builds应用）
  ```
- **关键概念**：Sources（源系统）、Syncs（同步规则）、Agent（代理连接）

#### **工具2：Pipeline Builder（02.md）**
- **核心能力**：无代码ETL、Git版本控制、AIP辅助
- **应用场景**：数据清洗、类型转换、联接、聚合、透视
- **实际操作**：
  ```
  步骤1：添加数据集节点（起点）
  步骤2：添加转换方框（Filter→Join→Aggregate）
  步骤3：配置参数和自定义函数（可复用）
  步骤4：在分支中开发，通过PR审核部署
  ```
- **关键概念**：Canvas（画布）、Transform（转换）、Reusables（复用）

#### **工具3：SQL表达式板（04.md）**
- **核心能力**：Spark SQL、窗口函数、表达式库
- **应用场景**：复杂派生列、统计分析、高级聚合
- **常用表达式**：
  ```sql
  # 窗口函数示例
  SUM("price") OVER (PARTITION BY "store" ORDER BY "date")

  # 条件表达式
  CASE WHEN "status"='Pending' THEN 1 ELSE 0 END
  ```
- **关键概念**：Spark方言、参数化($变量)、表达式库保存

#### **工具4：Code Repositories（05.md）**
- **核心能力**：Python/PySpark、装饰器、CI/CD
- **应用场景**：生产级数据工程、复杂业务逻辑
- **代码示例**：
  ```python
  @transform_df
  def process_orders(ctx):
      df = ctx.input("orders_raw").dataframe()
      # 业务逻辑
      return df.filter(df.status != "cancelled")
  ```
- **关键概念**：装饰器、Input/Output绑定、Git工作流

---

### 数据分析师必读指南

#### **工具5：Contour（01.md）**
- **核心能力**：大规模数据集直接分析、路径/卡板、参数化仪表盘
- **应用场景**：快速分析原始数据、构建自服务分析产品
- **操作流程**：
  ```
  数据集 → 过滤 → 联接 → 聚合 → 图表 → 仪表盘
  ```
- **关键组件**：
  - **路径（Paths）**：组织分析逻辑
  - **卡板（Boards）**：展示数据或转换数据
  - **参数（Parameters）**：使分析交互化

#### **工具6-9：Quiver系列（10-13.md）**
- **Quiver Visual Functions（10.md）**：时序分析函数封装与复用
- **图表在Workshop表示（11.md）**：可视化组件、多轴、交互
- **Conditional Formatting（12.md）**：条件格式化规则、视觉规则
- **Quiver仪表板模板（13.md）**：分析模板、动态驱动

#### **工具10：Data Lineage（06.md）**
- **核心能力**：完整谱系追踪、影响分析、审计
- **应用场景**：数据治理、合规、问题排查
- **查看内容**：
  ```
  源系统 → Data Connection → Pipeline → Ontology → 应用
  每个环节的版本、修改人、修改时间
  ```

#### **工具11：Code Workspaces（07.md）**
- **核心能力**：Jupyter/RStudio集成、代码片段、数据导入导出
- **应用场景**：复杂统计分析、ML实验、数据科学
- **操作**：交互式开发、自动代码生成、Sync/Build功能

---

### 应用开发者必读指南

#### **工具12-13：Workshop核心（11-12.md）**
- **Workshop组件**：对象表、过滤器、图表、按钮、卡片
- **Conditional Formatting**：条件可视化、颜色意图、样式规则
- **应用结构**：
  ```
  表现层：按钮、卡片、表格、图表
    ↓ 绑定
  业务逻辑：变量、过滤、条件
    ↓ 查询
  数据层：本体对象、ObjectSet
  ```

#### **工具14：Notepad（08.md）**
- **核心能力**：协作报告、组件嵌入、AIP文本优化、自动分发
- **应用场景**：周报、分析报告、决策文档
- **操作流程**：
  ```
  创建文档 → 嵌入图表/表格 → 写分析文字
  → AIP优化语言 → 设置权限 → 分享/自动分发
  ```

#### **工具15：Object Explorer（09.md）**
- **核心能力**：对象搜索、动态过滤、多维钻取、Action执行
- **应用场景**：本体数据探索、对象查询、快速操作
- **操作**：搜索→过滤→钻取相关对象→执行Action

---

### AI工程师必读指南

#### **工具16-18：RAG框架（14-15、18.md）**
- **AIP Logic构建RAG（15.md）**：
  ```
  Semantic Search → 检索相关对象
    ↓
  Format Block → 将对象转为文本上下文
    ↓
  LLM Block → 生成基于检索的回答
  ```
- **端到端构建RAG（18.md）**：从数据到模型的完整流程

#### **工具19、25、29-30：AIP Agents（19、25、29-30.md）**
- **AIP Agents（19.md）**：AI智能代理、自主决策
- **AIP Agent中使用操作工具（25.md）**：Agent执行复杂操作
- **AIP Agent构建记忆（29.md）**：跨交互记忆保持
- **AIP Agent添加应用上下文（30.md）**：业务规则集成

#### **工具20-24：多媒体与模型部署**
- **使用媒体集作为AIP输入（20.md）**：音频/视频/图片处理
- **从PDF提取表格（23.md）**：文本提取能力
- **从Code Workspaces发布模型（22.md）**：模型集成
- **在线机器学习模型部署（21.md）**：Live ML能力
- **AIP Logic函数进行评估（24.md）**：模型评估

#### **工具26-34：AIP Logic高级功能**
- **AIP Logic中使用循环数据转换（26.md）**：批量处理
- **循环进行本体编辑（27.md）**：批量编辑对象
- **视觉语义搜索（28.md）**：图像语义理解
- **AIP Logic中对象查询工具（31.md）**：自然语言查询
- **利用本体元数据优化查询（32.md）**：查询优化
- **AIP Logic中语义搜索（33.md）**：向量搜索
- **低代码工具集（34.md）**：完整低代码方案

#### **工具16-17、24：计算机视觉（17.md、28.md）**
- **图像分类in Pipeline Builder（17.md）**：CV集成
- **机器学习运维MLOps（16.md）**：模型部署管理

---

### 企业架构师必读指南

#### **工具25：地理空间分析（56.md）**
- **应用场景**：资产追踪、地理位置分析、移动监控
- **技术栈**：
  ```
  Pipeline：坐标转换（create geopoint）
    ↓
  Ontology：定义Geopoint属性
    ↓
  Workshop：Map Widget + 对象图层
    ↓
  Timeline：播放移动轨迹
  ```

#### **工具26：端到端工作流（57.md、00.md）**
- **五阶段工作流**：
  1. 数据集成（Data Connection）
  2. 构建本体（Ontology Manager）
  3. 应用开发（Workshop）
  4. 业务操作（Actions）
  5. 验证监控（Data Lineage）

- **典型案例**：
  - **数字孪生（Plant201）**：工厂监控系统
  - **质量管理**：缺陷追踪工作流
  - **动态调度**：资源优化
  - **COP系统**：多部门协作

---

## 📋 应用场景速查表

### 按行业分类

| 行业 | 应用场景 | 推荐工具组合 |
|------|---------|----------|
| **制造** | 生产监控、质量控制、供应链 | Pipeline + Ontology + Workshop + 地理空间 |
| **金融** | 风险管理、欺诈检测、合规 | Data Lineage + AIP Agents + Quiver |
| **零售** | 门店运营、客户分析、库存 | Contour + Workshop + AIP Logic |
| **政府** | 公共安全、应急响应 | 地理空间 + Real-time data + Agents |

### 按功能分类

| 需求 | 推荐工具 | 学习文档 |
|------|--------|--------|
| 快速数据探索 | Contour + SQL表达式板 | 01.md、04.md |
| 时序分析 | Quiver Visual Functions | 10.md |
| 构建应用 | Workshop + Ontology | 11-12.md |
| 报告生成 | Notepad | 08.md |
| 自动化决策 | AIP Agents + Logic | 19、25-34.md |
| 文档处理 | PDF提取 + AIP Logic | 23.md |
| 地理分析 | 地理空间工具 | 56.md |

---


