在 Palantir Foundry 的 Workshop 应用程序中，**图表（Charts）**是核心的可视化组件，旨在将本体（Ontology）数据转化为可交互的业务洞察 [1, 2]。与简单的静态仪表盘不同，Workshop 图表是**对象感知（Object-aware）**的，并能与其他组件（如表格、过滤器）深度联动 [2, 3]。

以下是关于 Workshop 图表的详细介绍：

### 1. 核心图表类型
Workshop 提供了多种内置的可视化组件，满足不同的数据展示需求：
*   **XY 图表 (Chart XY)：** 最常用的图表，支持折线图、柱状图和面积图 [4, 5]。
*   **饼图 (Pie Chart)：** 用于展示属性分布和百分比，例如按状态分组的订单比例 [6]。
*   **嵌入式 Quiver 图表：** 允许将 Quiver 分析中更复杂的逻辑（如时间序列分析、视觉函数结果）以仪表盘模板的形式嵌入到 Workshop 中 [4, 7, 8]。
*   **其他专业图表：** 包括瀑布图（Waterfall）、甘特图（Gantt）、Vega 图表、以及专门的时间线（Timeline）和指标卡（Metric Card）[4, 8]。

### 2. XY 图表的核心配置逻辑
XY 图表由一个或多个**图层（Plot Layers）**组成，每个图层可以独立配置 [4]：
*   **输入数据：** 数据源通常是本体中的**对象集（Object Set）**，也可以是函数（Function）或时间序列集 [5, 9]。
*   **X 轴配置：** 通常选择属性进行分桶（Bucketing）。如果是时间戳属性，可以按年、季度、月、周、日甚至更细的时间粒度进行分组 [5]。
*   **Y 轴/系列（Series）：** 定义要度量的指标，支持**行计数（Count）**或属性的**总和（Sum）**、平均值等聚合操作 [5, 10]。
*   **细分（Segmentation）：** 支持按特定属性（如“园区区域”或“状态”）对数据进行切分，展示方式可选**堆叠（Stacked）**、百分比或**分组（Grouped）** [6, 10, 11]。

### 3. 高级显示与格式化
为了提升图表的可读性和专业性，Workshop 提供了丰富的自定义选项：
*   **多坐标轴配置：** 当两个图层的数据单位或量级差异巨大（例如“零售消费金额”与“入园人数计数”）时，可以添加**第二坐标轴（Axis 2）**，以便在同一图表中清晰展示不同尺度的趋势 [12]。
*   **数值格式化：** 支持开启**数字格式化（Numeric Formatting）**，将数值显示为货币格式，并使用**紧凑计数法（Compact Notation）**（如用 K/M 代替完整数字）[9, 10]。
*   **批注（Annotations）：** 用户可以添加**水平或垂直线**作为批注，用于标记重要事件（如“飓风”发生的日期）或基准线 [13, 14]。
*   **图例管理：** 可自定义图例标签、显示位置（如图表内部或外部）以及颜色标记 [13, 15]。

### 4. 交互性：将图表转化为过滤器
Workshop 的图表并非分析的终点，而是交互的起点 [14, 16]：
*   **存储选区为过滤器：** 开发者可以配置图表，将用户的拖拽选择或点击操作捕获为**“对象集过滤变量（Object set filter variable）”** [10, 17]。
*   **下游联动：** 该过滤变量可以实时作用于其他组件。例如，当用户在图表上框选特定日期范围时，下方的对象列表（Object Table）会自动刷新，仅显示该范围内的详细数据，实现**深度下钻（Deep dive）**分析 [17-19]。

### 5. 集成 Quiver 模板
对于需要极高复杂度的分析（如 NPS 计算或多步转换），最佳实践是在 Quiver 中构建分析并发布为**仪表盘模板（Dashboard Template）** [20, 21]。
*   **动态输入：** Workshop 可以通过变量向嵌入的 Quiver 仪表盘传递输入对象集 [7, 20]。
*   **自动更新：** 嵌入的图表会根据 Workshop 中的全局过滤器（如“国际游客”或“消费金额范围”）动态重计算并展示结果 [7]。

通过这些图表组件，Workshop 能够构建出从高层 KPI 监控到具体业务操作协同的**闭环应用程序** [2, 22]。
