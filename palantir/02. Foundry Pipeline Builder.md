**Foundry Pipeline Builder** 是 Palantir Foundry 中用于构建生产级数据管道的**无代码（No-code）环境** [1, 2]。它旨在让非编程人员也能创建高性能、具备版本控制能力并深度集成于 Foundry 数据工程生态系统的工作流 [1]。

以下是关于 Pipeline Builder 的详细技术介绍：

### 1. 核心架构与管道类型
Pipeline Builder 将复杂的编码逻辑抽象为直观的**图形化画布（Canvas）**，其中节点代表数据集，方框代表转换操作 [3]。它支持两种主要的管道模式：
*   **批处理管道（Batch Pipelines）：** 适用于按预设计划（如每五分钟或每天一次）摄取的数据 [4]。
*   **流处理管道（Streaming Pipelines）：** 专门用于实时数据处理 [1, 5]。

### 2. 主要功能与转换操作
在管道构建过程中，用户可以执行从基础到高级的各类数据清洗和转换任务：
*   **基础转换：** 包括**类型转换（Cast）**（例如将字符串转换为时间戳）、**过滤行（Filter）**（剔除空值或无效数据）、**删除列（Drop）**以及**规范化列名** [6-9]。
*   **数据整合：** 支持多种类型的**联接（Join）**（如左联接、右联接、内联接及地理空间联接）和**联合（Union）**操作，将分散的数据源合并为统一的实体 [10-12]。
*   **解析与抽取：** 能够直接从 **Excel 工作簿**中提取特定工作表的数据，并支持使用**正则表达式（Regex）**进行复杂的文本处理 [13, 14]。

### 3. AIP（人工智能平台）集成
Pipeline Builder 深度集成了 Palantir 的 **AIP 能力**，极大简化了开发过程：
*   **自动逻辑说明：** AIP 可以为画布上的特定节点生成解释，帮助新成员快速理解管道逻辑 [15]。
*   **智能命名：** AIP 能根据转换逻辑建议合适的步骤名称（如“计算税额与总计”） [16]。
*   **辅助生成：** 用户只需描述需求，AIP 即可辅助生成正则表达式，例如“添加前导零以符合五位邮编格式” [17]。

### 4. 复用性与参数化（Reusables）
为了提高管道的维护效率，Pipeline Builder 提供了两类复用机制：
*   **参数（Parameters）：** 允许用户定义变量（如“税率”），在多个转换步骤中引用。若需修改逻辑，只需在一处更改参数值即可 [18]。
*   **自定义转换函数（Custom Functions）：** 用户可以将一系列转换逻辑封装为一个自定义函数（如“增加前导零”函数），使其像内置功能一样在管道中多次调用 [19, 20]。

### 5. 版本控制与协作管理
Pipeline Builder 引入了类似于软件工程的 **Git 版本控制语义**，以确保生产环境的安全：
*   **分支（Branching）：** 开发者可以在独立的分支（沙盒环境）中进行修改，而不影响主分支（Main）或生产流 [21, 22]。
*   **提案（Proposals）：** 类似于 GitHub 的 Pull Request，修改完成后需创建提案供同事审核。审核者可以通过**“变更视图”**直观对比主分支与分支之间的图形逻辑差异 [22, 23]。

### 6. 部署与执行逻辑
理解 Pipeline Builder 的操作逻辑需区分**“保存”**与**“部署”**：
*   **保存（Saving）：** 仅保存文件草稿，供后续编辑 [24]。
*   **部署（Deploying）：** 更新数据的**作业规范（Job Spec）**。只有部署后，Foundry 才会根据最新的管道逻辑来构建和填充目标数据集 [24-26]。通过 **Job Tracker**（也称 Builds 应用），用户可以实时监控部署后的构建进度和健康状态 [25, 27]。

### 7. 与其他工具的对比
*   **对比 Contour：** Pipeline Builder 用于构建从原始数据到清洗后数据集的**生产管道**；而 Contour 侧重于对已有数据集进行点选式**分析与仪表盘展示** [28, 29]。
*   **对比代码库（Code Repositories）：** Pipeline Builder 提供无代码体验，而代码库则允许使用 **Python (PySpark)** 进行更加灵活、基于代码的深度开发 [30, 31]。
![Uploading image.png…]()
