在 AIP Logic 中，**语义搜索（Semantic Search）**是一种强大的工具，它通过在多维空间中查找与搜索字符串最接近的向量，来捕捉文本的含义而不仅仅是关键词匹配 [1, 2]。

以下是关于 AIP Logic 中语义搜索的详细介绍：

### 1. 核心概念与原理
*   **超越关键词：** 与传统的关键词搜索不同，语义搜索侧重于“意义” [1]。它能够识别意思相近但词汇不同的内容。例如，搜索“aeronautical decision-making”（航空决策）时，即使某些片段只使用了缩写“ADM”，语义搜索也能将其找出来 [3]。
*   **向量嵌入（Embeddings）：** 语义搜索依赖于**嵌入属性**。嵌入是文本的向量表示，它捕捉了文本的语义信息 [2]。在 Foundry 中，这通常表现为对象类型中的一个特定属性 [4, 5]。
*   **K-最近邻（KNN）搜索：** 语义搜索在后台执行的是 K-最近邻搜索，即在寻找高维空间中距离查询向量最近的 $n$ 个对象 [1, 6]。

### 2. 前提条件
要在 AIP Logic 中使用语义搜索，必须在本体（Ontology）中设置好相应的对象类型，并包含以下两个关键属性：
*   **嵌入属性（Embedding Property）：** 存储文本的向量表示，用于计算相似度 [4, 5]。
*   **提取文本属性（Extracted Text Property）：** 存储人类可读的原始文本，以便在找到匹配项后将其输入给大语言模型（LLM） [4, 5]。

### 3. 在 AIP Logic 中的配置步骤
在 AIP Logic 编辑器中，配置语义搜索块（Semantic Search block）通常包含以下步骤：
1.  **添加语义搜索块：** 在工作流中点击添加块并选择“Semantic Search” [2]。
2.  **选择对象集：** 指定要在哪个对象类型（例如“FAA Chunk”或“Haunted House”）中进行搜索 [2, 7]。
3.  **指定搜索属性：** 选择该对象类型中的**嵌入属性** [2, 7]。
4.  **设置返回数量：** 输入希望返回的相关对象数量（例如 5 个、10 个或 20 个） [2, 7, 8]。
5.  **配置查询（Query）：** 定义搜索的基础字符串。这可以是用户的输入（如“课程主题”），也可以是某个对象的属性（如“怪物的个人资料文本”） [7, 9, 10]。

### 4. 主要应用场景
*   **检索增强生成（RAG）：** 这是语义搜索最常见的用途。系统先通过语义搜索从庞大的文档库（如 500 页的飞行手册）中提取最相关的片段，然后将这些片段作为背景知识提供给 LLM，以生成准确且有据可查的回答 [9, 11, 12]。
*   **支持 LLM 决策与分类：** 在处理事故报告等任务时，语义搜索可以调取相关的安全手册规定，帮助 LLM 识别危险源并判定事故等级 [10, 13, 14]。
*   **跨数据匹配：** 例如，根据怪物的偏好描述，通过语义搜索在“闹鬼屋”对象集中找到最匹配的地点 [7, 15, 16]。

### 5. 与普通查询工具的对比
AIP Logic 提供了“查询对象（Query Objects）”和“语义搜索”两种工具 [1, 17]：
*   **查询对象：** 适用于可以通过过滤、聚合或排序（如关键词搜索）轻松定义的任务 [1]。
*   **语义搜索：** 当用户的提示词更多是关于**含义**或复杂问题时，语义搜索更加合适 [1]。

### 6. 输出处理
语义搜索的结果是一个**对象集（Object Set）** [18]。为了让 LLM 能够处理这些信息，AIP Logic 通常会自动添加一个中间块，将对象集中的特定文本属性**格式化为字符串**（String），然后再喂给大语言模型 [18, 19]。
